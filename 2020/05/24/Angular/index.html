<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Angular | RainLotus'Blog</title><meta name="author" content="RainLotus"><meta name="copyright" content="RainLotus"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1.Angular 介绍 1.1 Angular是什么Angular（读音[‘æŋgjʊlə]）是一套用于构建用户界面的 JavaScript 框架。由 Google 开发和维护，主要被用来开发单页面应用程序。  类似于 Vue.js MVVM（提供了双向数据绑定） 组件化 模块化 指令 ……   由 Google 开发和维护 开发单页面应用程序（SPA）  1.2 特性 MVVM 组件化 模块化">
<meta property="og:type" content="article">
<meta property="og:title" content="Angular">
<meta property="og:url" content="https://rainlotus97.github.io/2020/05/24/Angular/index.html">
<meta property="og:site_name" content="RainLotus&#39;Blog">
<meta property="og:description" content="1.Angular 介绍 1.1 Angular是什么Angular（读音[‘æŋgjʊlə]）是一套用于构建用户界面的 JavaScript 框架。由 Google 开发和维护，主要被用来开发单页面应用程序。  类似于 Vue.js MVVM（提供了双向数据绑定） 组件化 模块化 指令 ……   由 Google 开发和维护 开发单页面应用程序（SPA）  1.2 特性 MVVM 组件化 模块化">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/11/10/zEPx3Fp6emgd5nH.png">
<meta property="article:published_time" content="2020-05-24T02:26:06.000Z">
<meta property="article:modified_time" content="2024-01-27T13:17:54.485Z">
<meta property="article:author" content="RainLotus">
<meta property="article:tag" content="Angular">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/11/10/zEPx3Fp6emgd5nH.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://rainlotus97.github.io/2020/05/24/Angular/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Angular',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-01-27 21:17:54'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.1.1"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/xinyiji.gif" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fa fa-book"></i><span> 找文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E6%A0%87%E7%AD%BE"><i class="fa-fw /tags/"></i><span> 0</span></a></li><li><a class="site-page child" href="/%E5%88%86%E7%B1%BB"><i class="fa-fw /categories/"></i><span> 1</span></a></li><li><a class="site-page child" href="/%E6%97%B6%E9%97%B4%E8%BD%B4"><i class="fa-fw /archives/"></i><span> 2</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-link"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5"><i class="fa-fw /link/"></i><span> 0</span></a></li><li><a class="site-page child" href="/RainLotus%E5%AF%BC%E8%88%AA%E7%BD%91"><i class="fa-fw https://rainlotus97.github.io/"></i><span> 1</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 菜单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E5%85%B3%E4%BA%8E"><i class="fa-fw /about/"></i><span> 0</span></a></li><li><a class="site-page child" href="/RainLotus%E4%B8%BB%E9%A2%98"><i class="fa-fw https://rainlotus97.github.io/"></i><span> 1</span></a></li><li><a class="site-page child" href="/RainLotus%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5"><i class="fa-fw https://rainlotus97.github.io/"></i><span> 2</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2020/11/10/zEPx3Fp6emgd5nH.png')"><nav id="nav"><span id="blog-info"><a href="/" title="RainLotus'Blog"><span class="site-name">RainLotus'Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fa fa-book"></i><span> 找文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E6%A0%87%E7%AD%BE"><i class="fa-fw /tags/"></i><span> 0</span></a></li><li><a class="site-page child" href="/%E5%88%86%E7%B1%BB"><i class="fa-fw /categories/"></i><span> 1</span></a></li><li><a class="site-page child" href="/%E6%97%B6%E9%97%B4%E8%BD%B4"><i class="fa-fw /archives/"></i><span> 2</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-link"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5"><i class="fa-fw /link/"></i><span> 0</span></a></li><li><a class="site-page child" href="/RainLotus%E5%AF%BC%E8%88%AA%E7%BD%91"><i class="fa-fw https://rainlotus97.github.io/"></i><span> 1</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 菜单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E5%85%B3%E4%BA%8E"><i class="fa-fw /about/"></i><span> 0</span></a></li><li><a class="site-page child" href="/RainLotus%E4%B8%BB%E9%A2%98"><i class="fa-fw https://rainlotus97.github.io/"></i><span> 1</span></a></li><li><a class="site-page child" href="/RainLotus%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5"><i class="fa-fw https://rainlotus97.github.io/"></i><span> 2</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Angular</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-05-24T02:26:06.000Z" title="发表于 2020-05-24 10:26:06">2020-05-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-27T13:17:54.485Z" title="更新于 2024-01-27 21:17:54">2024-01-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Angular/">Angular</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Angular"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="1-Angular-介绍"><a href="#1-Angular-介绍" class="headerlink" title="1.Angular 介绍"></a>1.Angular 介绍</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/angular.png"></p>
<h3 id="1-1-Angular是什么"><a href="#1-1-Angular是什么" class="headerlink" title="1.1 Angular是什么"></a>1.1 Angular是什么</h3><p>Angular（读音[‘æŋgjʊlə]）是一套用于构建用户界面的 JavaScript 框架。由 Google 开发和维护，主要被用来开发单页面应用程序。</p>
<ul>
<li>类似于 <a target="_blank" rel="noopener" href="https://cn.vuejs.org/">Vue.js</a><ul>
<li>MVVM（提供了双向数据绑定）</li>
<li>组件化</li>
<li>模块化</li>
<li>指令</li>
<li>……</li>
</ul>
</li>
<li>由 Google 开发和维护</li>
<li>开发单页面应用程序（SPA）</li>
</ul>
<h3 id="1-2-特性"><a href="#1-2-特性" class="headerlink" title="1.2 特性"></a>1.2 特性</h3><ul>
<li>MVVM</li>
<li>组件化</li>
<li>模块化</li>
<li>指令</li>
<li>服务</li>
<li>依赖注入(很多概念从后台开发中引入的)</li>
<li>TypeScript</li>
<li>…</li>
</ul>
<h3 id="1-3-Angular发展历史"><a href="#1-3-Angular发展历史" class="headerlink" title="1.3 Angular发展历史"></a>1.3 Angular发展历史</h3><h4 id="1-3-1-Angular1"><a href="#1-3-1-Angular1" class="headerlink" title="1.3.1 Angular1"></a>1.3.1 Angular1</h4><p>2009年，Misko hevery 和 Adam abrons 在业余时间打造了 <code>GetAngular</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/MiskoInterview.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/4529.jpg"></p>
<p>Misko Hevery 接手了 Google 内部的一个项目 <code>Feedback</code> ，该项目经过6个月的迭代代码量已经达到了17000行。项目的开发和维护已经变得非常的困难。所有 Misko 就决定用 <code>GetAngular</code> 重写这个项目。</p>
<p>结果就是小伙子成功了，使用 <code>GetAngular</code> 之后该项目从17000行缩减到了1500行，前后仅仅使用了三周时间。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/17000-1500.png"></p>
<p>Misko 领导一看，小伙子厉害啊，同时也看到了 <code>GetAngular</code> 所带来的商业价值，所以决定把  <code>GetAngular</code> 正式立项，组织专职团队开发和维护。</p>
<p>Abrons 后来离开了这个计划，但在 Google 工作的 Hevery 和一些谷歌员工如 Igor Minár 和 Vojta Jína 等则继续开发维护此库。</p>
<p>由于已不再是个人项目，所以开发团队将 <code>GetAngular</code> 重新命名为了 <code>AngularJS</code> 。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/AngularJS-large.png"></p>
<p>至此，AngularJS 就进入了漫长的发展迭代阶段。</p>
<ul>
<li>经过了3年的发展，AngularJS 在2012年6月份，<code>1.0.0</code> 版本正式推出。</li>
<li>AngularJS 在1.2之后的版本不再支持 IE 6和7</li>
<li>AngularJS 在 1.3 之后不再支持 IE8</li>
<li>AngularJS 在 1.5 增加了类似组件化的开发方式<ul>
<li>为过渡到 Angular2 做铺垫</li>
</ul>
</li>
<li>AngularJS <code>1.x.x</code> 已发布到了 <code>1.6.x</code></li>
</ul>
<h4 id="1-3-2-Angular1的困境"><a href="#1-3-2-Angular1的困境" class="headerlink" title="1.3.2 Angular1的困境"></a>1.3.2 Angular1的困境</h4><ul>
<li>饱受诟病的性能问题<ul>
<li>脏检查 (<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000010433675">https://segmentfault.com/a/1190000010433675</a>)</li>
</ul>
</li>
<li>落后于当前 Web 发展理念<ul>
<li>例如组件化</li>
<li>模块化支持不好</li>
</ul>
</li>
<li>对移动端支持不够友好</li>
</ul>
<h4 id="1-3-3-Angular-2-横空出世"><a href="#1-3-3-Angular-2-横空出世" class="headerlink" title="1.3.3 Angular 2 横空出世"></a>1.3.3 Angular 2 横空出世</h4><p><a target="_blank" rel="noopener" href="https://angular.io/">https://angular.io/</a></p>
<p>Angular 1.x 由于问题太多，历史包袱太重，重构几乎不可能。</p>
<p>不过早在2014年3月，官方博客就有提及开发新版本 Angular 的计划。</p>
<p>2014年9月下旬一个大会上，<code>Angular2</code> 正式亮相。</p>
<p>2016年9月15号，<code>Angular2</code> 正式发布。</p>
<p>由于 ng2 几乎完全重写了 ng1 ，所以官方把2之后的版本都称之为 Angular。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/Angular-large.png"></p>
<p>Angular 2 之后的正式 Logo：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/angular.png"></p>
<p>新版本发布了，那用户如何从 1 升级到 2 呢？</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/ng2-ng1.png"></p>
<p>那到底要不要更新呢？</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/mountain.png"></p>
<h4 id="1-3-4-ng2-相比-ng1"><a href="#1-3-4-ng2-相比-ng1" class="headerlink" title="1.3.4 ng2 相比 ng1"></a>1.3.4 ng2 相比 ng1</h4><ul>
<li>移除了 controller+$scope 的设计方式，改用了当前主流的组件化构建</li>
<li>相比 ng1 性能更好(脏检查机制已做优化)</li>
<li>优先为移动端设计</li>
<li>更贴合未来标准<ul>
<li>EcmaScript 6  (TypeScript)</li>
<li>Web Component</li>
</ul>
</li>
<li>TypeScript</li>
<li>反正就是更现代化，更好了……</li>
</ul>
<h4 id="1-3-5-Angular现状"><a href="#1-3-5-Angular现状" class="headerlink" title="1.3.5 Angular现状"></a>1.3.5 Angular现状</h4><ul>
<li>自 Angular 2 之后，官方承诺之后的版本都会兼容到 Angular 2</li>
<li>当前 Angular 最新发布版为 <code>8.x.x</code></li>
<li>新版的 Angular 在 Github 上也已收获了 3万+ ☆</li>
<li>使用量低于 React 和 Vue</li>
</ul>
<h3 id="1-4-相关链接"><a href="#1-4-相关链接" class="headerlink" title="1.4 相关链接"></a>1.4 相关链接</h3><ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Angular">维基百科 - Angular</a></li>
<li><a target="_blank" rel="noopener" href="https://angularjs.org/">AngularJS 1.x.x 官网</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/">Angular 官网</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/angular/angular">Angular Github</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/docs">Angular 官方文档</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/tutorial">Angular 官方教程</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/api">Angular APi文档</a></li>
</ul>
<h2 id="2-Angular-cli"><a href="#2-Angular-cli" class="headerlink" title="2.Angular-cli"></a>2.Angular-cli</h2><h3 id="2-1-创建Angular-cli项目"><a href="#2-1-创建Angular-cli项目" class="headerlink" title="2.1 创建Angular-cli项目"></a>2.1 创建Angular-cli项目</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>环境要求</span><br><span class="line">   <span class="title class_">Node</span> <span class="number">10.9</span><span class="number">.0</span> or higher</span><br><span class="line">   <span class="variable constant_">NPM</span> <span class="number">3</span> or higher</span><br><span class="line">   <span class="title class_">Python2</span><span class="number">.7</span><span class="number">.1</span>                  </span><br><span class="line">   C++ 编译工具</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//Python下载地址</span></span><br><span class="line">   <span class="attr">https</span>:<span class="comment">//www.python.org/downloads/release/python-271/</span></span><br><span class="line">   python --version</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//C++编译工具   windows7/Vista依赖于.NET Framework 4.5.1</span></span><br><span class="line">   <span class="comment">//npm install --global --production windows-build-tools</span></span><br><span class="line">   <span class="comment">//如果安装出错，可以去用户目录下的.windows-build-tools下选择安装文件双击运行</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>安装<span class="title class_">Angular</span>-cli</span><br><span class="line">   npm install -g @angular/cli</span><br><span class="line">   ng help</span><br><span class="line">   ng <span class="keyword">new</span> &lt;项目名称&gt;</span><br><span class="line">   ng serve    <span class="comment">//默认占用 4200 端口号，可以通过下面选项配置</span></span><br><span class="line">   ng serve --port <span class="number">4201</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/1563331466612.png"></p>
<h3 id="2-2-Angular-cli项目目录结构"><a href="#2-2-Angular-cli项目目录结构" class="headerlink" title="2.2 Angular-cli项目目录结构"></a>2.2 Angular-cli项目目录结构</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/1563333171751.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── e2e 端到端测试（暂且不关心）</span><br><span class="line">├── node_modules npm安装的第三方包</span><br><span class="line">├── src 存放业务源码</span><br><span class="line">├── .angular.json            AngularCLI脚手架工具配置文件</span><br><span class="line">├── .editorconfig            针对编辑器的代码风格约束</span><br><span class="line">├── .gitignore                 Git仓库忽略配置项</span><br><span class="line">├── karma.conf.js            测试配置文件（给karma用的，暂且不用关心）</span><br><span class="line">├── package.json            项目包说明文件</span><br><span class="line">├── README.md             项目说明文件</span><br><span class="line">├── tsconfig.json             TypeScript配置文件</span><br><span class="line">└── tslint.json                  TypeScript代码风格校验工具配置文件（类似于 eslint）</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//npm scripts介绍</span></span><br><span class="line">...</span><br><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;ng&quot;</span>: <span class="string">&quot;ng&quot;</span>, 运行查看 <span class="title class_">Angular</span> <span class="variable constant_">CLI</span> 脚手架工具使用帮助</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;ng serve&quot;</span>, 运行开发模式</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;ng build --prod&quot;</span>, 运行项目打包构建（用于发布到生成环境）</span><br><span class="line">    <span class="string">&quot;test&quot;</span>: <span class="string">&quot;ng test&quot;</span>, 运行karma单元测试</span><br><span class="line">    <span class="string">&quot;lint&quot;</span>: <span class="string">&quot;ng lint&quot;</span>, 运行<span class="title class_">TypeScript</span>代码校验</span><br><span class="line">    <span class="string">&quot;e2e&quot;</span>: <span class="string">&quot;ng e2e&quot;</span> 运行protractor端到端测试</span><br><span class="line">  &#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">main.<span class="property">js</span></span><br><span class="line">- 描述：模块化启动入口</span><br><span class="line">- 职责：加载启动根模块</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">AppModule</span></span><br><span class="line">- 描述：项目根模块</span><br><span class="line">- 职责：把组件、服务、路由、指令等组织到一起，设置<span class="title class_">AppComponent</span>为根组件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/platform-browser&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NgModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppRoutingModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app-routing.module&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app.component&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">FooComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./foo/foo.component&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">LoginComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./home/login/login.component&#x27;</span>;</span><br><span class="line"></span><br><span class="line">@<span class="title class_">NgModule</span>(&#123;</span><br><span class="line">  <span class="comment">//声明模块资源：组件、指令、服务</span></span><br><span class="line">  <span class="attr">declarations</span>: [</span><br><span class="line">    <span class="title class_">AppComponent</span>,</span><br><span class="line">    <span class="title class_">FooComponent</span>,</span><br><span class="line">    <span class="title class_">LoginComponent</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">//依赖模块</span></span><br><span class="line">  <span class="attr">imports</span>: [</span><br><span class="line">    <span class="title class_">BrowserModule</span>,</span><br><span class="line">    <span class="title class_">AppRoutingModule</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">//指定应用程序的根级别需要使用的service</span></span><br><span class="line">  <span class="attr">providers</span>: [],</span><br><span class="line">  <span class="comment">//指定启动组件</span></span><br><span class="line">  <span class="attr">bootstrap</span>: [<span class="title class_">AppComponent</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppModule</span> &#123; &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">AppComponent</span></span><br><span class="line">- 描述：项目根组件</span><br><span class="line">- 职责：替换掉 index.<span class="property">html</span> 文件中的 &lt;app-root&gt;&lt;/app-root&gt; 节点</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.component.spec.ts      单元测试文件，暂时不用管他</span><br></pre></td></tr></table></figure>

<h2 id="3-Angular核心语法"><a href="#3-Angular核心语法" class="headerlink" title="3.Angular核心语法"></a>3.Angular核心语法</h2><h3 id="3-1-组件"><a href="#3-1-组件" class="headerlink" title="3.1 组件"></a>3.1 组件</h3><h4 id="3-1-1-组件基本使用"><a href="#3-1-1-组件基本使用" class="headerlink" title="3.1.1 组件基本使用"></a>3.1.1 组件基本使用</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>app.<span class="property">component</span>.<span class="property">ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在Angular中，组件就是一个类</span></span><br><span class="line"><span class="comment">//@Component 组件的装饰器 (组件的元数据)</span></span><br><span class="line"><span class="comment">// selector: 用来定义组件渲染的标签名称(index.html中有一个app-root)  其实就是组件的名称</span></span><br><span class="line"><span class="comment">// templateUrl: 用来指定组件的页面模板</span></span><br><span class="line"><span class="comment">// styleUrls : 一个数组，用来存放组件相关的样式文件</span></span><br><span class="line">@<span class="title class_">Component</span>(&#123;</span><br><span class="line">  <span class="attr">selector</span>: <span class="string">&#x27;app-root&#x27;</span>,</span><br><span class="line">  <span class="attr">templateUrl</span>: <span class="string">&#x27;./app.component.html&#x27;</span>,</span><br><span class="line">  <span class="attr">styleUrls</span>: [<span class="string">&#x27;./app.component.less&#x27;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppComponent</span> &#123;</span><br><span class="line">  <span class="comment">//这里面用来放组件的数据和方法</span></span><br><span class="line">  title = <span class="string">&#x27;testng2&#x27;</span>;</span><br><span class="line">  count = <span class="number">0</span>;</span><br><span class="line">  increment = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">count</span> ++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line">&lt;h3&gt;&#123;&#123;count&#125;&#125;&lt;/h3&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> (<span class="attr">click</span>)=<span class="string">&quot;increment()&quot;</span>&gt;</span>点我+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h4 id="3-1-2-组件的创建"><a href="#3-1-2-组件的创建" class="headerlink" title="3.1.2 组件的创建"></a>3.1.2 组件的创建</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建组件  组件会被创建到app目录下</span></span><br><span class="line">ng generate component foo</span><br><span class="line">ng generate component /home/login</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">app.component.html中使用上面创建的组件</span></span><br><span class="line">&lt;app-foo&gt;&lt;/app-foo&gt;</span><br><span class="line">&lt;app-login&gt;&lt;/app-login&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-指令与模板语法"><a href="#3-2-指令与模板语法" class="headerlink" title="3.2 指令与模板语法"></a>3.2 指令与模板语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">NgClass</span>  作用：添加或移除一组 <span class="variable constant_">CSS</span> 类</span><br><span class="line"></span><br><span class="line"><span class="title class_">NgStyle</span>  作用：添加或移除一组 <span class="variable constant_">CSS</span> 样式</span><br><span class="line"></span><br><span class="line"><span class="title class_">NgModel</span> 作用：双向绑定到 <span class="variable constant_">HTML</span> 表单元素</span><br><span class="line"></span><br><span class="line"><span class="title class_">NgIf</span>  作用：根据条件添加或移除 <span class="variable constant_">DOM</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">NgSwitch</span>  作用：类似于 <span class="title class_">JavaScript</span> 中的 <span class="keyword">switch</span> 语句，根据条件渲染多个选项中的一个。</span><br><span class="line"></span><br><span class="line"><span class="title class_">NgFor</span> 作用：列表渲染</span><br></pre></td></tr></table></figure>

<h4 id="3-2-1-插值表达式"><a href="#3-2-1-插值表达式" class="headerlink" title="3.2.1 插值表达式"></a>3.2.1 插值表达式</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&#123;&#123;js表达式&#125;&#125;</span></span><br><span class="line"><span class="comment">//[xx] = &quot;js表达式&quot;     angular中的[]类似于vue中的v-bind</span></span><br><span class="line">&lt;p&gt;<span class="title class_">Message</span>: &#123;&#123; msg &#125;&#125;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> [<span class="attr">innerHTML</span>]=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 写法一 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123; heroImageUrl &#125;&#125;&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 写法二，推荐 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> [<span class="attr">src</span>]=<span class="string">&quot;heroImageUrl&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 写法三 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">bind-src</span>=<span class="string">&quot;heroImageUrl&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在布尔特性的情况下，它们的存在即暗示为 <code>true</code>，属性绑定工作起来略有不同，在这个例子中：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> [<span class="attr">disabled</span>]=<span class="string">&quot;isButtonDisabled&quot;</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">如果 isButtonDisabled 的值是 null、undefined 或 false，则 disabled 特性甚至不会被包含在渲染出来的 <span class="tag">&lt;<span class="name">button</span>&gt;</span> 元素中。</span><br></pre></td></tr></table></figure>

<h4 id="3-2-2-使用-JavaScript-表达式"><a href="#3-2-2-使用-JavaScript-表达式" class="headerlink" title="3.2.2 使用 JavaScript 表达式"></a>3.2.2 使用 JavaScript 表达式</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>1 + 1 = &#123;&#123; 1 + 1 &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; num + 1 &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; isDone ? &#x27;完了&#x27; : &#x27;没完&#x27; &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; title.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;) &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> [<span class="attr">title</span>]=<span class="string">&quot;title.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;)&quot;</span>&gt;</span>&#123;&#123; title &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>编写模板表达式所用的语言看起来很像 JavaScript。 很多 JavaScript 表达式也是合法的模板表达式，但不是全部。</p>
<p>Angular 遵循轻逻辑的设计思路，所以在模板引擎中不能编写非常复杂的 JavaScript 表达式，这里有一些约定：</p>
<ul>
<li>赋值 (<code>=</code>, <code>+=</code>, <code>-=</code>, …)</li>
<li><code>new</code> 运算符</li>
<li>使用 <code>;</code> 或 <code>,</code> 的链式表达式</li>
<li>自增或自减操作符 (<code>++</code>和<code>--</code>)</li>
</ul>
<h4 id="3-2-3-列表渲染"><a href="#3-2-3-列表渲染" class="headerlink" title="3.2.3 列表渲染"></a>3.2.3 列表渲染</h4><p>基本用法：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppComponent</span> &#123;</span><br><span class="line">  heroes = [<span class="string">&#x27;Windstorm&#x27;</span>, <span class="string">&#x27;Bombasto&#x27;</span>, <span class="string">&#x27;Magneta&#x27;</span>, <span class="string">&#x27;Tornado&#x27;</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Heroes:<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> [<span class="attr">id</span>]=<span class="string">&quot;&#x27;list-&#x27; + hero&quot;</span> *<span class="attr">ngFor</span>=<span class="string">&quot;let hero of heroes&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; hero &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>也可以获取 index 索引：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngFor</span>=<span class="string">&quot;let hero of heroes; let i=index&quot;</span>&gt;</span>&#123;&#123;i + 1&#125;&#125; - &#123;&#123;hero.name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-4-条件渲染"><a href="#3-2-4-条件渲染" class="headerlink" title="3.2.4 条件渲染"></a>3.2.4 条件渲染</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngIf</span>=<span class="string">&quot;heroes.length&gt;3; else templateName&quot;</span>&gt;</span>有很多英雄<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ng-template</span> #<span class="attr">templateName</span>&gt;</span>没有很多英雄<span class="tag">&lt;/<span class="name">ng-template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-5-NgSwitch"><a href="#3-2-5-NgSwitch" class="headerlink" title="3.2.5 NgSwitch"></a>3.2.5 NgSwitch</h4><p>NgSwitch 的语法比较啰嗦，使用频率小一些。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> [<span class="attr">ngSwitch</span>]=<span class="string">&quot;currentHero&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngSwitchCase</span>=<span class="string">&quot;&#x27;Windstorm&#x27;&quot;</span>&gt;</span>Windstorm<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngSwitchCase</span>=<span class="string">&quot;&#x27;Bombasto&#x27;&quot;</span>&gt;</span>Bombasto<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngSwitchCase</span>=<span class="string">&quot;&#x27;Magneta&#x27;&quot;</span>&gt;</span>Magneta<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngSwitchDefault</span>&gt;</span>Tornado<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-6-自定义指令"><a href="#3-2-6-自定义指令" class="headerlink" title="3.2.6 自定义指令"></a>3.2.6 自定义指令</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">自定义指令：<span class="attr">https</span>:<span class="comment">//www.angular.cn/guide/attribute-directives</span></span><br><span class="line"></span><br><span class="line">ng generate directive highlight</span><br><span class="line"></span><br><span class="line">#highlight.<span class="property">directive</span>.<span class="property">ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Directive</span>,<span class="title class_">ElementRef</span>  &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"></span><br><span class="line">@<span class="title class_">Directive</span>(&#123;</span><br><span class="line">  <span class="attr">selector</span>: <span class="string">&#x27;[appHighlight]&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">HighlightDirective</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">el: ElementRef</span>) &#123;</span><br><span class="line">    el.<span class="property">nativeElement</span>.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;yellow&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line">&lt;p appHighlight&gt;<span class="title class_">Highlight</span> me!&lt;/p&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-7-事件处理"><a href="#3-2-7-事件处理" class="headerlink" title="3.2.7 事件处理"></a>3.2.7 事件处理</h4><p>事件绑定只需要用圆括号把事件名包起来即可：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> (<span class="attr">click</span>)=<span class="string">&quot;onSave()&quot;</span>&gt;</span>Save<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>可以把事件对象传递到事件处理函数中：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> (<span class="attr">click</span>)=<span class="string">&quot;onSave($event)&quot;</span>&gt;</span>On Save<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>也可以传递额外的参数（取决于你的业务）：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> (<span class="attr">click</span>)=<span class="string">&quot;onSave($event, 123)&quot;</span>&gt;</span>On Save<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当事件处理语句比较简单的时候，我们可以内联事件处理语句：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> (<span class="attr">click</span>)=<span class="string">&quot;message = &#x27;哈哈哈&#x27;&quot;</span>&gt;</span>内联事件处理<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>我们可以利用 <strong>属性绑定 + 事件处理</strong> 的方式实现表单文本框双向绑定：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> [<span class="attr">value</span>]=<span class="string">&quot;message&quot;</span></span></span><br><span class="line"><span class="tag">       (<span class="attr">input</span>)=<span class="string">&quot;message=$event.target.value&quot;</span> &gt;</span></span><br></pre></td></tr></table></figure>

<p>事件绑定的另一种写法，使用 <code>on-</code> 前缀的方式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 绑定事件处理函数 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">on-click</span>=<span class="string">&quot;onSave()&quot;</span>&gt;</span>On Save<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-8-双向绑定"><a href="#3-2-8-双向绑定" class="headerlink" title="3.2.8 双向绑定"></a>3.2.8 双向绑定</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> [(<span class="attr">ngModel</span>)]=<span class="string">&quot;message&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>运行之后你会发现报错了，原因是使用 <code>ngModel</code> 必须导入 <code>FormsModule</code> 并把它添加到 Angular 模块的 <code>imports</code> 列表中。</p>
<p>导入 <code>FormsModule</code> 并让 <code>[(ngModel)]</code> 可用的代码如下：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/platform-browser&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NgModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line">+++ <span class="keyword">import</span> &#123; <span class="title class_">FormsModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/forms&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app.component&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  <span class="attr">declarations</span>: [</span><br><span class="line">    <span class="title class_">AppComponent</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">imports</span>: [</span><br><span class="line">    <span class="title class_">BrowserModule</span>,</span><br><span class="line">+++ <span class="title class_">FormsModule</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">providers</span>: [],</span><br><span class="line">  <span class="attr">bootstrap</span>: [<span class="title class_">AppComponent</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppModule</span> &#123; &#125;</span><br></pre></td></tr></table></figure>

<p>通过以上的配置之后，你就可以开心的在 Angular 中使用双向数据绑定了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//多行文本</span></span><br><span class="line">&lt;textarea cols=<span class="string">&quot;30&quot;</span> rows=<span class="string">&quot;10&quot;</span> [(ngModel)]=<span class="string">&quot;message&quot;</span>&gt;&lt;/textarea&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//复选框</span></span><br><span class="line">&lt;h3&gt;复选框&lt;/h3&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> [(<span class="attr">ngModel</span>)]=<span class="string">&quot;seen&quot;</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//单选按钮</span></span><br><span class="line">&lt;input type=<span class="string">&quot;radio&quot;</span> [value]=<span class="string">&quot;0&quot;</span> [(ngModel)]=<span class="string">&quot;gender&quot;</span>&gt; 男</span><br><span class="line">&lt;input type=<span class="string">&quot;radio&quot;</span> [value]=<span class="string">&quot;1&quot;</span> [(ngModel)]=<span class="string">&quot;gender&quot;</span>&gt; 女</span><br><span class="line">&lt;p&gt;选中了：&#123;&#123; gender &#125;&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//下拉列表</span></span><br><span class="line">&lt;select [(ngModel)]=<span class="string">&quot;hobby&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">option</span> [<span class="attr">value</span>]=<span class="string">&quot;0&quot;</span>&gt;</span>吃饭<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">option</span> [<span class="attr">value</span>]=<span class="string">&quot;1&quot;</span>&gt;</span>睡觉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">option</span> [<span class="attr">value</span>]=<span class="string">&quot;2&quot;</span>&gt;</span>打豆豆<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line">&lt;/select&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>选中的爱好：&#123;&#123; hobby &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-9-Class绑定"><a href="#3-2-9-Class绑定" class="headerlink" title="3.2.9 Class绑定"></a>3.2.9 Class绑定</h4><ul>
<li><a target="_blank" rel="noopener" href="https://angular.io/guide/template-syntax#ngClass">https://angular.io/guide/template-syntax#ngClass</a></li>
</ul>
<p>a) 普通写法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//我们也可以通过类绑定或样式绑定来显示或隐藏一个元素。</span></span><br><span class="line"><span class="comment">//  isSpecial = true</span></span><br><span class="line"></span><br><span class="line">&lt;div [<span class="keyword">class</span>.<span class="property">hidden</span>]=<span class="string">&quot;!isSpecial&quot;</span>&gt;<span class="title class_">Show</span> <span class="keyword">with</span> <span class="keyword">class</span>&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> [<span class="attr">class.hidden</span>]=<span class="string">&quot;isSpecial&quot;</span>&gt;</span>Hide with class<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 标准class绑定写法 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bad curly special&quot;</span>&gt;</span>Bad curly special<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--使用bind来添加指定的class  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bad curly special&quot;</span></span></span><br><span class="line"><span class="tag">     [<span class="attr">class</span>]=<span class="string">&quot;&#x27;bad&#x27;&quot;</span>&gt;</span>Bad curly<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--通过isSpecial属性来切换special样式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> [<span class="attr">class.special</span>]=<span class="string">&quot;isSpecial&quot;</span>&gt;</span>The class binding is special<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>b) 使用NgClass指令 </p>
<p><code>NgClass</code> 指令接收一个对象，对象的 <code>key</code> 指定 css 类名，value 给定一个布尔值，当布尔值为真则作用该类名，当布尔值为假则移除给类名。</p>
<p>语法规则：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> [<span class="attr">ngClass</span>]=<span class="string">&quot;&#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">  css类名: 布尔值,</span></span></span><br><span class="line"><span class="string"><span class="tag">  css类名: 布尔值</span></span></span><br><span class="line"><span class="string"><span class="tag">&#125;&quot;</span>&gt;</span>测试文本<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>基本示例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.saveable</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-class">.modified</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.special</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#ff3300</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">currentClasses = &#123;</span><br><span class="line">    <span class="string">&#x27;special&#x27;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&#x27;modified&#x27;</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="string">&#x27;saveable&#x27;</span>:<span class="literal">true</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> [<span class="attr">ngClass</span>]=<span class="string">&quot;&#123;&#x27;special&#x27;:true,&#x27;saveable&#x27;:true&#125;&quot;</span>&gt;</span>This div is initially saveable, unchanged, and special<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> [<span class="attr">ngClass</span>]=<span class="string">&quot;currentClasses&quot;</span>&gt;</span>This div is initially saveable, unchanged, and special<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-10-Style绑定"><a href="#3-2-10-Style绑定" class="headerlink" title="3.2.10 Style绑定"></a>3.2.10 Style绑定</h4><p>a) 普通写法</p>
<p>通过<strong>样式绑定</strong>，可以设置内联样式。</p>
<p>样式绑定的语法与属性绑定类似。 但方括号中的部分不是元素的属性名，而由<strong>style</strong>前缀，一个点 (<code>.</code>)和 CSS 样式的属性名组成。 形如：<code>[style.style-property]</code>。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> [<span class="attr">style.color</span>]=<span class="string">&quot;isSpecial ? &#x27;red&#x27;: &#x27;green&#x27;&quot;</span>&gt;</span>Red<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 也可以 backgroundColor --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> [<span class="attr">style.background-color</span>]=<span class="string">&quot;canSave ? &#x27;cyan&#x27;: &#x27;grey&#x27;&quot;</span> &gt;</span>Save<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> [<span class="attr">style.display</span>]=<span class="string">&quot;isSpecial ? &#x27;block&#x27; : &#x27;none&#x27;&quot;</span>&gt;</span>Show with style<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> [<span class="attr">style.display</span>]=<span class="string">&quot;isSpecial ? &#x27;none&#x27;  : &#x27;block&#x27;&quot;</span>&gt;</span>Hide with style<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>有些样式绑定中的样式带有单位。在这里，以根据条件用 “em” 和 “%” 来设置字体大小的单位。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> [<span class="attr">style.font-size.em</span>]=<span class="string">&quot;isSpecial ? 3 : 1&quot;</span> &gt;</span>Big<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> [<span class="attr">style.font-size.</span>%]=<span class="string">&quot;!isSpecial ? 150 : 50&quot;</span> &gt;</span>Small<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>提示：<em>样式属性</em>命名方法可以用<a target="_blank" rel="noopener" href="https://angular.cn/guide/glossary#dash-case">中线命名法</a>，像上面的一样 也可以用<a target="_blank" rel="noopener" href="https://angular.cn/guide/glossary#camelcase">驼峰式命名法</a>，如<code>fontSize</code>。</p>
</blockquote>
<p>b) 使用NgStyle指令</p>
<p>虽然这是设置单一样式的好办法，但我们通常更喜欢使用 <a target="_blank" rel="noopener" href="https://angular.cn/guide/template-syntax#ngStyle">NgStyle指令</a> 来同时设置多个内联样式。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> currentStyles = &#123;</span><br><span class="line">    <span class="string">&#x27;font-style&#x27;</span>: <span class="string">&#x27;italic&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;font-weight&#x27;</span>: <span class="string">&#x27;bold&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;font-size&#x27;</span>: <span class="string">&#x27;24px&#x27;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> [<span class="attr">ngStyle</span>]=<span class="string">&quot;currentStyles&quot;</span>&gt;</span></span><br><span class="line">  This div is initially italic, normal weight, and extra large (24px).</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ngStyle 这种方式相当于在代码里面写 CSS 样式，比较丑陋，而且将来不太好修改，非常不建议这样写（足够简单的情况除外）。</p>
<h4 id="3-2-11-模板引用变量"><a href="#3-2-11-模板引用变量" class="headerlink" title="3.2.11 模板引用变量"></a>3.2.11 模板引用变量</h4><p><strong>模板引用变量</strong>通常用来引用模板中的某个DOM元素，它还可以引用Angular组件或指令或<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/Web_Components">Web Component</a>。</p>
<p>使用井号 (#) 来声明引用变量。 <code>#phone</code>的意思就是声明一个名叫<code>phone</code>的变量来引用<code>&lt;input&gt;</code>元素。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> #<span class="attr">phone</span> <span class="attr">placeholder</span>=<span class="string">&quot;phone number&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>我们可以在模板中的任何地方引用模板引用变量。 比如声明在<code>&lt;input&gt;</code>上的<code>phone</code>变量就是在模板另一侧的<code>&lt;button&gt;</code>上使用的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> #<span class="attr">phone</span> <span class="attr">placeholder</span>=<span class="string">&quot;phone number&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- lots of other elements --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> (<span class="attr">click</span>)=<span class="string">&quot;callPhone(phone.value)&quot;</span>&gt;</span>Call<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>大多数情况下，Angular会把模板引用变量的值设置为声明它的那个元素。在上面例子中，<code>phone</code> 引用的是表示<em>电话号码</em>的<code>&lt;input&gt;</code>框。 “拨号”按钮的点击事件处理器把这个<em>input</em>值传给了组件的<code>callPhone</code>方法。 不过，指令也可以修改这种行为，让这个值引用到别处，比如它自身。 <code>NgForm</code>指令就是这么做的。</p>
</blockquote>
<p>模板引用变量使用注意：</p>
<ul>
<li>模板引用变量的作用范围是<em>整个模板</em>。 不要在同一个模板中多次定义同一个变量名，否则它在运行期间的值是无法确定的。</li>
<li>如果我在模板里面定义的局部变量和组件内部的属性重名会怎么样呢<ul>
<li>如果真的出现了重名，Angular 会按照以下优先级来进行处理</li>
<li><code>模板局部变量 &gt; 指令中的同名变量 &gt; 组件中的同名属性</code></li>
</ul>
</li>
<li>我们也可以用<code>ref-</code>前缀代替<code>#</code>。 下面的例子中就用把<code>fax</code>变量声明成了<code>ref-fax</code>而不是<code>#fax</code>。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref-fax</span> <span class="attr">placeholder</span>=<span class="string">&quot;fax number&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> (<span class="attr">click</span>)=<span class="string">&quot;callFax(fax.value)&quot;</span>&gt;</span>Fax<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在js代码中使用模板引用变量</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span>, <span class="title class_">OnInit</span>,<span class="title class_">ViewChild</span>,<span class="title class_">ElementRef</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"></span><br><span class="line">@<span class="title class_">Component</span>(&#123;</span><br><span class="line">  <span class="attr">selector</span>: <span class="string">&#x27;app-login&#x27;</span>,</span><br><span class="line">  <span class="attr">templateUrl</span>: <span class="string">&#x27;./login.component.html&#x27;</span>,</span><br><span class="line">  <span class="attr">styleUrls</span>: [<span class="string">&#x27;./login.component.less&#x27;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">LoginComponent</span> implements <span class="title class_">OnInit</span> &#123;</span><br><span class="line">  <span class="comment">//ViewChild可以在js代码中获取页面引用的模板</span></span><br><span class="line">  @<span class="title class_">ViewChild</span>(<span class="string">&#x27;phone&#x27;</span>) <span class="attr">phone</span>: <span class="title class_">ElementRef</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123; </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  isSpecial = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">  currentClasses = &#123;</span><br><span class="line">    <span class="attr">saveable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">modified</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">special</span>: <span class="literal">false</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  currentStyles = &#123;</span><br><span class="line">    <span class="string">&#x27;font-style&#x27;</span>: <span class="string">&#x27;italic&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;font-weight&#x27;</span>: <span class="string">&#x27;bold&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;font-size&#x27;</span>: <span class="string">&#x27;24px&#x27;</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  currentTime=<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"></span><br><span class="line">  callPhone = <span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//获取页面模板 phone中的内容</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">phone</span>.<span class="property">nativeElement</span>.<span class="property">value</span>)</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">ngOnInit</span>(): <span class="keyword">void</span> &#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="3-2-12-过滤器"><a href="#3-2-12-过滤器" class="headerlink" title="3.2.12 过滤器"></a>3.2.12 过滤器</h4><p>在 Angular 中，过滤器也叫管道。它最重要的作用就是用来格式化数据的输出。</p>
<p>举个简单例子：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">currentTime=<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;currentTime | date:&#x27;yyyy-MM-dd HH:mm:ss&#x27;&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Angular 一共内置了一些过滤器：<a target="_blank" rel="noopener" href="https://angular.io/api?type=pipe%E3%80%82">https://angular.io/api?type=pipe。</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//货币转换 currency</span></span><br><span class="line">&#123;&#123;<span class="number">123</span> | currency &#125;&#125;  <span class="comment">//$123</span></span><br><span class="line">&#123;&#123;<span class="number">123</span> | <span class="attr">currency</span>:<span class="string">&#x27;￥&#x27;</span> &#125;&#125;  <span class="comment">//￥123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//格式化时间 date</span></span><br><span class="line">&#123;&#123;<span class="keyword">new</span> <span class="title class_">Date</span>() | <span class="attr">date</span>:<span class="string">&#x27;yyyyMMdd&#x27;</span>&#125;&#125;  <span class="comment">//2016/11/02</span></span><br><span class="line">yyyy/yy : <span class="number">2016</span> / <span class="number">16</span>（年）</span><br><span class="line"><span class="variable constant_">MM</span>： <span class="number">11</span>  （月）</span><br><span class="line">dd：<span class="number">02</span> （日）</span><br><span class="line">h/hh : <span class="number">8</span> / <span class="number">08</span> （时）</span><br><span class="line">m/mm : <span class="number">5</span> / <span class="number">05</span> （分）</span><br><span class="line">s /ss : <span class="number">9</span> /<span class="number">09</span>（秒）</span><br><span class="line"><span class="variable constant_">EEEE</span>/<span class="variable constant_">EEE</span> :（星期）</span><br><span class="line"></span><br><span class="line"><span class="comment">//json</span></span><br><span class="line">将<span class="title class_">JavaScript</span>对象转为json字符串</span><br><span class="line">&#123;&#123;&#123;<span class="attr">name</span>:<span class="string">&#x27;jack&#x27;</span>&#125; | json&#125;&#125; <span class="comment">// &#123;&quot;name&quot;:&quot;jack&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//将字符串数字转为数字 number</span></span><br><span class="line">&#123;&#123;<span class="string">&#x27;123.134545&#x27;</span>| number&#125;&#125; <span class="comment">// 默认保留3位小数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//uppercase lowercase</span></span><br><span class="line">将英文字母转为大写或小写。</span><br><span class="line">&#123;&#123; <span class="string">&#x27;Hello&#x27;</span> | uppercase  &#125;&#125;  <span class="comment">//HELLO</span></span><br><span class="line">&#123;&#123;<span class="string">&#x27;Hello&#x27;</span> | lowercase&#125;&#125;  <span class="comment">//hello</span></span><br></pre></td></tr></table></figure>

<p>在复杂业务场景中，内置的过滤器肯定是不够用的，所有 Angular 也支持自定义过滤器。</p>
<p><a target="_blank" rel="noopener" href="https://angular.io/guide/pipes">https://angular.io/guide/pipes</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义过滤器</span></span><br><span class="line">ng generate pipe msgformat</span><br><span class="line"></span><br><span class="line"><span class="comment">//msgformat.pipe.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Pipe</span>, <span class="title class_">PipeTransform</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"></span><br><span class="line">@<span class="title class_">Pipe</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;msgformat&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">MsgformatPipe</span> implements <span class="title class_">PipeTransform</span> &#123;</span><br><span class="line">  <span class="title function_">transform</span>(<span class="attr">value</span>: string, ...<span class="attr">args</span>: unknown[]): unknown &#123;</span><br><span class="line">    <span class="keyword">return</span> value.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>);;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line">&lt;div&gt;&#123;&#123;<span class="string">&quot;123&quot;</span>|msgformat&#125;&#125;&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-路由"><a href="#3-3-路由" class="headerlink" title="3.3 路由"></a>3.3 路由</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>app.<span class="property">module</span>.<span class="property">ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/platform-browser&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NgModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppRoutingModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app-routing.module&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app.component&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">FooComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./foo/foo.component&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">LoginComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./home/login/login.component&#x27;</span>;</span><br><span class="line"><span class="comment">//引入路由模块</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">RouterModule</span>, <span class="title class_">Routes</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//声明路由</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">appRoutes</span>: <span class="title class_">Routes</span> = [</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;foo&#x27;</span>, <span class="attr">component</span>: <span class="title class_">FooComponent</span> &#125;,</span><br><span class="line">  <span class="comment">//路由路径、组件和路由数据</span></span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;login/:id&#x27;</span>, <span class="attr">component</span>: <span class="title class_">LoginComponent</span> ,<span class="attr">data</span>: &#123; <span class="attr">title</span>: <span class="string">&#x27;login信息&#x27;</span> &#125;&#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">@<span class="title class_">NgModule</span>(&#123;</span><br><span class="line">  <span class="comment">//声明模块资源：组件、指令、服务</span></span><br><span class="line">  <span class="attr">declarations</span>: [</span><br><span class="line">    <span class="title class_">AppComponent</span>,</span><br><span class="line">    <span class="title class_">FooComponent</span>,</span><br><span class="line">    <span class="title class_">LoginComponent</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">//依赖模块</span></span><br><span class="line">  <span class="attr">imports</span>: [</span><br><span class="line">    <span class="title class_">RouterModule</span>.<span class="title function_">forRoot</span>(</span><br><span class="line">      appRoutes</span><br><span class="line">    ),</span><br><span class="line">    <span class="title class_">BrowserModule</span>,</span><br><span class="line">    <span class="title class_">AppRoutingModule</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">providers</span>: [],</span><br><span class="line">  <span class="comment">//指定启动组件</span></span><br><span class="line">  <span class="attr">bootstrap</span>: [<span class="title class_">AppComponent</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppModule</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line">&lt;!--routerLinkActive：指定路由被激活的样式</span><br><span class="line">      queryParams：路由传参</span><br><span class="line">    --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">routerLink</span>=<span class="string">&quot;/foo&quot;</span> <span class="attr">routerLinkActive</span>=<span class="string">&quot;active&quot;</span>&gt;</span>来到foo<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">routerLink</span>=<span class="string">&quot;/login/5&quot;</span> [<span class="attr">queryParams</span>]=<span class="string">&quot;&#123;name: &#x27;zhangsan&#x27;&#125;&quot;</span> <span class="attr">routerLinkActive</span>=<span class="string">&quot;active&quot;</span>&gt;</span>来到login<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!--这边的router-outlet就类似于vue中的router-view--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">router-outlet</span>&gt;</span><span class="tag">&lt;/<span class="name">router-outlet</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>login.<span class="property">component</span>.<span class="property">ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span>, <span class="title class_">OnInit</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ActivatedRoute</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Location</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common&#x27;</span>;</span><br><span class="line"></span><br><span class="line">@<span class="title class_">Component</span>(&#123;</span><br><span class="line">  <span class="attr">selector</span>: <span class="string">&#x27;app-login&#x27;</span>,</span><br><span class="line">  <span class="attr">templateUrl</span>: <span class="string">&#x27;./login.component.html&#x27;</span>,</span><br><span class="line">  <span class="attr">styleUrls</span>: [<span class="string">&#x27;./login.component.less&#x27;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">LoginComponent</span> implements <span class="title class_">OnInit</span> &#123;</span><br><span class="line">  <span class="comment">//声明id</span></span><br><span class="line">  public <span class="attr">id</span>:string;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//将route和location注入到构造函数</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span></span><br><span class="line"><span class="params">    private route: ActivatedRoute,</span></span><br><span class="line"><span class="params">    private location: Location</span></span><br><span class="line"><span class="params">  </span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="title function_">ngOnInit</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//获取路由中的 参数信息</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">id</span> = <span class="variable language_">this</span>.<span class="property">route</span>.<span class="property">snapshot</span>.<span class="property">paramMap</span>.<span class="title function_">get</span>(<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line">      </span><br><span class="line">    <span class="comment">//获取路由中的data 信息</span></span><br><span class="line">    <span class="comment">//console.log(this.route.snapshot.data.title)</span></span><br><span class="line">      </span><br><span class="line">	<span class="comment">//获取路由参数的信息</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">route</span>.<span class="property">snapshot</span>.<span class="property">queryParams</span>)</span><br><span class="line">      </span><br><span class="line">    <span class="comment">//获取当前路径，回退</span></span><br><span class="line">    <span class="comment">//console.log(this.location.path())</span></span><br><span class="line">    <span class="comment">//this.location.back();</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>login.<span class="property">components</span>.<span class="property">html</span></span><br><span class="line">&lt;p&gt;login works! &#123;&#123;id&#125;&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-4-Services（服务）"><a href="#3-4-Services（服务）" class="headerlink" title="3.4 Services（服务）"></a>3.4 Services（服务）</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/service.png"></p>
<p>服务是一个广义范畴，包括：值、函数或应用所需的功能。</p>
<p>说白了服务就是针对某个单一或系统功能的封装，例如在 Angular 核心包里面，最典型的一个服务就是 Http 服务。</p>
<p>几乎任何东西都可以是一个服务。 典型的服务是一个类，具有专注的、明确的用途。它应该做一件特定的事情，并把它做好。</p>
<p>例如：</p>
<ul>
<li>日志服务</li>
<li>和服务端接口交互的服务</li>
</ul>
<p>组件类应保持精简。组件本身不从服务器获得数据、不进行验证输入，也不直接往控制台写日志。 它们把这些任务委托给服务。</p>
<p>服务仍然是任何 Angular 应用的基础。组件就是最大的服务消费者。</p>
<p>组件的任务就是提供用户体验，仅此而已。它介于视图（由模板渲染）和应用逻辑（通常包括<em>模型</em>的某些概念）之间。 设计良好的组件为数据绑定提供属性和方法，把其它琐事都委托给服务。</p>
<p>Angular 不会<em>强制要求</em>我们遵循这些原则。 即使我们花 3000 行代码写了一个“厨房洗碗槽”组件，它也不会抱怨什么。</p>
<h3 id="3-5-依赖注入（Dependency-injection）"><a href="#3-5-依赖注入（Dependency-injection）" class="headerlink" title="3.5 依赖注入（Dependency injection）"></a>3.5 依赖注入（Dependency injection）</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/dependency-injection.png"></p>
<p>“依赖注入”是提供类的新实例的一种方式，还负责处理好类所需的全部依赖。大多数依赖都是服务。 Angular 使用依赖注入来提供新组件以及组件所需的服务。</p>
<h3 id="3-6-HTTP服务"><a href="#3-6-HTTP服务" class="headerlink" title="3.6 HTTP服务"></a>3.6 HTTP服务</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app.module.ts:</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">NgModule</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">BrowserModule</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/platform-browser&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//HttpClientModule</span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">HttpClientModule</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  <span class="attr">imports</span>: [</span><br><span class="line">    <span class="title class_">BrowserModule</span>,</span><br><span class="line">    <span class="comment">//加入HttpClientModule</span></span><br><span class="line">    <span class="title class_">HttpClientModule</span>,</span><br><span class="line">  ],</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">MyAppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HttpClient</span>, <span class="title class_">HttpHeaders</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"><span class="comment">//发起一个 get 请求</span></span><br><span class="line"><span class="meta">@Component</span>(...)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">MyComponent</span> <span class="keyword">implements</span> <span class="title class_">OnInit</span> &#123;</span><br><span class="line">  <span class="attr">results</span>: <span class="built_in">string</span>[];</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//在构造函数中注入HttpClient</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="keyword">private</span> http: HttpClient</span>) &#123;&#125;</span><br><span class="line"> </span><br><span class="line">  <span class="title function_">ngOnInit</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// 发送get请求</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">http</span>.<span class="title function_">get</span>(<span class="string">&#x27;/api/homead&#x27;</span>).<span class="title function_">subscribe</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//请求错误</span></span><br><span class="line">    <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Something went wrong!&#x27;</span>);	</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#代理设置</span><br><span class="line"><span class="comment">//在项目根目录下创建 proxy.conf.json</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;/api&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;target&quot;</span>: <span class="string">&quot;http://localhost:3001/&quot;</span>,</span><br><span class="line">        <span class="string">&quot;changeOrigin&quot;</span>: <span class="literal">true</span>, </span><br><span class="line">        <span class="string">&quot;logLevel&quot;</span>: <span class="string">&quot;debug&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#修改package.<span class="property">json</span></span><br><span class="line"><span class="string">&quot;start&quot;</span>: <span class="string">&quot;ng serve --proxy-config proxy.conf.json&quot;</span>,</span><br></pre></td></tr></table></figure>

<h2 id="4-TodoMVC案例"><a href="#4-TodoMVC案例" class="headerlink" title="4.TodoMVC案例"></a>4.TodoMVC案例</h2><h3 id="4-1-下载模板"><a href="#4-1-下载模板" class="headerlink" title="4.1 下载模板"></a>4.1 下载模板</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/tastejs/todomvc-app-template.git --depth 1</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//初始化项目</span><br><span class="line">ng new todomvc-angular</span><br><span class="line">cd todomvc-angular</span><br><span class="line">ng serve</span><br></pre></td></tr></table></figure>

<p>将 <code>todomvc-angular\src\app\app.component.html</code> 文件内容替换如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;todoapp&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>todos<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;new-todo&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;What needs to be done?&quot;</span> <span class="attr">autofocus</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- This section should be hidden by default and shown when there are todos --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;toggle-all&quot;</span> <span class="attr">class</span>=<span class="string">&quot;toggle-all&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;toggle-all&quot;</span>&gt;</span>Mark all as complete<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;todo-list&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- These are here just to show the structure of the list items --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- List items should get the class `editing` when editing and `completed` when marked as completed --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;completed&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;view&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;toggle&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">checked</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span>&gt;</span>Taste JavaScript<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;destroy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;edit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Create a TodoMVC template&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;view&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;toggle&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span>&gt;</span>Buy a unicorn<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;destroy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;edit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Rule the web&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- This footer should hidden by default and shown when there are todos --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- This should be `0 items left` by default --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;todo-count&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>0<span class="tag">&lt;/<span class="name">strong</span>&gt;</span> item left<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Remove this if you don&#x27;t implement routing --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;filters&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;selected&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#/&quot;</span>&gt;</span>All<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/active&quot;</span>&gt;</span>Active<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/completed&quot;</span>&gt;</span>Completed<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Hidden if no completed items are left ↓ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;clear-completed&quot;</span>&gt;</span>Clear completed<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Double-click to edit a todo<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Remove the below line ↓ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Template by <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://sindresorhus.com&quot;</span>&gt;</span>Sindre Sorhus<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Change this out with your name and url ↓ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Created by <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://todomvc.com&quot;</span>&gt;</span>you<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Part of <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://todomvc.com&quot;</span>&gt;</span>TodoMVC<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>安装模板依赖的样式文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install todomvc-app-css</span><br></pre></td></tr></table></figure>

<p>在 <code>todomvc-angular\src\styles.less</code> 文件中导入样式文件：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* You can add global styles to this file, and also import other style files */</span></span><br><span class="line"><span class="keyword">@import</span> url(<span class="string">&#x27;todomvc-app-css/index.css&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>看到如下页面说明成功。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/1563418624733.png"></p>
<h3 id="4-2-列表数据渲染"><a href="#4-2-列表数据渲染" class="headerlink" title="4.2 列表数据渲染"></a>4.2 列表数据渲染</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/1581060581989.png"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>app.<span class="property">components</span>.<span class="property">ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> todos = [&#123;</span><br><span class="line">  <span class="attr">id</span>:<span class="number">1</span>,</span><br><span class="line">  <span class="attr">title</span>:<span class="string">&quot;吃饭&quot;</span>,</span><br><span class="line">  <span class="attr">done</span>:<span class="literal">true</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">id</span>:<span class="number">2</span>,</span><br><span class="line">  <span class="attr">title</span>:<span class="string">&quot;睡觉&quot;</span>,</span><br><span class="line">  <span class="attr">done</span>:<span class="literal">false</span></span><br><span class="line">&#125;]</span><br><span class="line"></span><br><span class="line">@<span class="title class_">Component</span>(&#123;</span><br><span class="line">  <span class="attr">selector</span>: <span class="string">&#x27;app-root&#x27;</span>,</span><br><span class="line">  <span class="attr">templateUrl</span>: <span class="string">&#x27;./app.component.html&#x27;</span>,</span><br><span class="line">  <span class="attr">styleUrls</span>: [<span class="string">&#x27;./app.component.less&#x27;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppComponent</span> &#123;</span><br><span class="line">  <span class="comment">//声明一个todos变量，他是一个对象数组，赋予一个初值</span></span><br><span class="line">  public <span class="attr">todos</span>:&#123;</span><br><span class="line">    <span class="attr">id</span>:number,</span><br><span class="line">    <span class="attr">title</span>:string,</span><br><span class="line">    <span class="attr">done</span>:boolean</span><br><span class="line">  &#125;[]= todos</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>app.<span class="property">module</span>.<span class="property">ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/platform-browser&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NgModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppRoutingModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app-routing.module&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app.component&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">FormsModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/forms&#x27;</span>;</span><br><span class="line"></span><br><span class="line">@<span class="title class_">NgModule</span>(&#123;</span><br><span class="line">  <span class="attr">declarations</span>: [</span><br><span class="line">    <span class="title class_">AppComponent</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">imports</span>: [</span><br><span class="line">    <span class="title class_">BrowserModule</span>,</span><br><span class="line">    <span class="title class_">AppRoutingModule</span>,</span><br><span class="line">    <span class="comment">//引入FormsModule，可以在表单中使用ngModel(双向数据绑定)</span></span><br><span class="line">    <span class="title class_">FormsModule</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">providers</span>: [],</span><br><span class="line">  <span class="attr">bootstrap</span>: [<span class="title class_">AppComponent</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppModule</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line"> &lt;ul <span class="keyword">class</span>=<span class="string">&quot;todo-list&quot;</span>&gt;</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> *<span class="attr">ngFor</span>=<span class="string">&quot;let todo of todos&quot;</span> [<span class="attr">ngClass</span>]=<span class="string">&quot;&#123;completed: todo.done&#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;view&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;toggle&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> [(<span class="attr">ngModel</span>)]=<span class="string">&quot;todo.done&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123; todo.title &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     &lt;!-- </span><br><span class="line">      li 是每一个任务项</span><br><span class="line">      每个任务项有三种状态：</span><br><span class="line">        正常状态 没有样式</span><br><span class="line">        完成状态 completed</span><br><span class="line">        编辑状态 editing</span><br><span class="line">     --&gt; </span><br></pre></td></tr></table></figure>

<h3 id="4-3-添加任务"><a href="#4-3-添加任务" class="headerlink" title="4.3 添加任务"></a>4.3 添加任务</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line">    &lt;h1&gt;todos&lt;/h1&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">class</span>=<span class="string">&quot;new-todo&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">placeholder</span>=<span class="string">&quot;What needs to be done?&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">autofocus</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      (<span class="attr">keyup.enter</span>)=<span class="string">&quot;addTodo($event)&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span></span><br><span class="line"><span class="language-xml">      </span></span><br><span class="line"><span class="language-xml">#2.app.component.ts     </span></span><br><span class="line"><span class="language-xml">export class AppComponent &#123;</span></span><br><span class="line"><span class="language-xml">  //声明一个todos变量，他是一个对象数组，赋予一个初值</span></span><br><span class="line"><span class="language-xml">  public todos: &#123;</span></span><br><span class="line"><span class="language-xml">    id: number,</span></span><br><span class="line"><span class="language-xml">    title: string,</span></span><br><span class="line"><span class="language-xml">    done: boolean</span></span><br><span class="line"><span class="language-xml">  &#125;[] = todos</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  //声明一个添加任务的函数，该函数入参一个事件对象，返回值是void</span></span><br><span class="line"><span class="language-xml">  addTodo(e): void &#123;</span></span><br><span class="line"><span class="language-xml">    const titleText = e.target.value</span></span><br><span class="line"><span class="language-xml">    if (!titleText.length) &#123;</span></span><br><span class="line"><span class="language-xml">      return</span></span><br><span class="line"><span class="language-xml">    &#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    const last = this.todos[this.todos.length - 1]</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    this.todos.push(&#123;</span></span><br><span class="line"><span class="language-xml">      id: last ? last.id + 1 : 1,</span></span><br><span class="line"><span class="language-xml">      title: titleText,</span></span><br><span class="line"><span class="language-xml">      done: false</span></span><br><span class="line"><span class="language-xml">    &#125;)</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    // 清除文本框</span></span><br><span class="line"><span class="language-xml">    e.target.value = &#x27;&#x27;</span></span><br><span class="line"><span class="language-xml">  &#125;</span></span><br><span class="line"><span class="language-xml">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-4-切换所有任务项"><a href="#4-4-切换所有任务项" class="headerlink" title="4.4 切换所有任务项"></a>4.4 切换所有任务项</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/1581061830879.png"></p>
<p>思路：切换input控件的checked属性值由任务列表中的任务状态决定，当任务列表中的所有任务都完成，input空间的checked状态为选中状态；反之为没有选中状态</p>
<p>这边我们通过get、set来完成</p>
<h4 id="4-4-1-所有任务都完成的情况"><a href="#4-4-1-所有任务都完成的情况" class="headerlink" title="4.4.1 所有任务都完成的情况"></a>4.4.1 所有任务都完成的情况</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line">&lt;section <span class="keyword">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;toggle-all&quot;</span> <span class="attr">class</span>=<span class="string">&quot;toggle-all&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> [<span class="attr">checked</span>]=<span class="string">&quot;toggleAll&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> </span></span><br><span class="line"><span class="language-xml"> #2.app.component.ts   </span></span><br><span class="line"><span class="language-xml"> //当在外部使用toggleAll属性的时候，调用get方法，当前方法如果todos中所有的任务完成，返回true；如果有任何一个任务没有完成，返回false</span></span><br><span class="line"><span class="language-xml"> get toggleAll () &#123;</span></span><br><span class="line"><span class="language-xml">   return this.todos.every(t =&gt; t.done)</span></span><br><span class="line"><span class="language-xml"> &#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="4-4-2-点击切换按钮"><a href="#4-4-2-点击切换按钮" class="headerlink" title="4.4.2 点击切换按钮"></a>4.4.2 点击切换按钮</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> #<span class="number">1.</span>app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line">&lt;section <span class="keyword">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;toggle-all&quot;</span> <span class="attr">class</span>=<span class="string">&quot;toggle-all&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> [<span class="attr">checked</span>]=<span class="string">&quot;toggleAll&quot;</span> (<span class="attr">change</span>)=<span class="string">&quot;toggleAll = $event.target.checked&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> </span></span><br><span class="line"><span class="language-xml"> </span></span><br><span class="line"><span class="language-xml"> #2.app.component.ts   </span></span><br><span class="line"><span class="language-xml"> //当在外部给toggleAll赋值的时候，调用set方法，作用是修改todos中所有任务的状态</span></span><br><span class="line"><span class="language-xml">  set toggleAll (val: boolean) &#123;</span></span><br><span class="line"><span class="language-xml">    this.todos.forEach(t =&gt; t.done = val)</span></span><br><span class="line"><span class="language-xml">  &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-5-删除任务"><a href="#4-5-删除任务" class="headerlink" title="4.5 删除任务"></a>4.5 删除任务</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/1581062150742.png"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> #<span class="number">1.</span>app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line"> &lt;!--<span class="number">1.</span>遍历的时候添加索引i--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">li</span> *<span class="attr">ngFor</span>=<span class="string">&quot;let todo of todos; let i = index;&quot;</span> [<span class="attr">ngClass</span>]=<span class="string">&quot;&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">      completed: todo.done</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">    &#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;view&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;toggle&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> [(<span class="attr">ngModel</span>)]=<span class="string">&quot;todo.done&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123; todo.title &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		  <span class="comment">&lt;!--2.添加删除按钮--&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;destroy&quot;</span> (<span class="attr">click</span>)=<span class="string">&quot;removeTodo(i)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span></span><br><span class="line"><span class="language-xml">#2.app.component.ts       </span></span><br><span class="line"><span class="language-xml">removeTodo (index: number): void &#123;</span></span><br><span class="line"><span class="language-xml">    this.todos.splice(index, 1)</span></span><br><span class="line"><span class="language-xml"> &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-6-编辑功能"><a href="#4-6-编辑功能" class="headerlink" title="4.6 编辑功能"></a>4.6 编辑功能</h3><h4 id="4-6-1-双击label启用编辑样式"><a href="#4-6-1-双击label启用编辑样式" class="headerlink" title="4.6.1 双击label启用编辑样式"></a>4.6.1 双击label启用编辑样式</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/1581062662377.png"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">  #<span class="number">1.</span>app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line">  &lt;ul <span class="keyword">class</span>=<span class="string">&quot;todo-list&quot;</span>&gt;</span><br><span class="line">      &lt;!--<span class="number">1.</span>新增一个currentEditing变量用于控制当前li是否添加editing样式--&gt;</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> *<span class="attr">ngFor</span>=<span class="string">&quot;let todo of todos; let i = index;&quot;</span> [<span class="attr">ngClass</span>]=<span class="string">&quot;&#123;completed: todo.done, editing: currentEditing === todo&#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;view&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;toggle&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> [(<span class="attr">ngModel</span>)]=<span class="string">&quot;todo.done&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="comment">&lt;!--2.双击当前label，修改currentEditing的值--&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">label</span> (<span class="attr">dblclick</span>)=<span class="string">&quot;currentEditing = todo&quot;</span>&gt;</span>&#123;&#123; todo.title &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;destroy&quot;</span> (<span class="attr">click</span>)=<span class="string">&quot;removeTodo(i)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="comment">&lt;!--3.添加一个input文本框用于文本编辑，这里需要按下回车键保存，所以不需要使用ngModel---&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;edit&quot;</span> [<span class="attr">value</span>]=<span class="string">&quot;todo.title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  </span></span><br><span class="line"><span class="language-xml">  </span></span><br><span class="line"><span class="language-xml">#2.app.component.ts    </span></span><br><span class="line"><span class="language-xml">//4.声明currentEditing用来表示当前正在编辑的对象</span></span><br><span class="line"><span class="language-xml">  public currentEditing: &#123;</span></span><br><span class="line"><span class="language-xml">    id: number,</span></span><br><span class="line"><span class="language-xml">    title: string,</span></span><br><span class="line"><span class="language-xml">    done: boolean</span></span><br><span class="line"><span class="language-xml">  &#125; = null</span></span><br></pre></td></tr></table></figure>

<h4 id="4-6-2-回车键、失去焦点保存编辑、esc取消编辑"><a href="#4-6-2-回车键、失去焦点保存编辑、esc取消编辑" class="headerlink" title="4.6.2 回车键、失去焦点保存编辑、esc取消编辑"></a>4.6.2 回车键、失去焦点保存编辑、esc取消编辑</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"> #<span class="number">1.</span>app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line">      &lt;input <span class="keyword">class</span>=<span class="string">&quot;edit&quot;</span> [value]=<span class="string">&quot;todo.title&quot;</span> (keyup)=<span class="string">&quot;handleEditKeyUp($event)&quot;</span></span><br><span class="line">      (keyup.<span class="property">enter</span>)=<span class="string">&quot;saveEdit(todo, $event)&quot;</span> (blur)=<span class="string">&quot;saveEdit(todo, $event)&quot;</span>&gt;</span><br><span class="line">          </span><br><span class="line">          </span><br><span class="line">#<span class="number">2.</span>app.<span class="property">component</span>.<span class="property">ts</span></span><br><span class="line">  <span class="title function_">saveEdit</span>(<span class="params">todo, e</span>) &#123;</span><br><span class="line">    <span class="comment">// 保存编辑</span></span><br><span class="line">    todo.<span class="property">title</span> = e.<span class="property">target</span>.<span class="property">value</span></span><br><span class="line">    <span class="comment">// 去除编辑样式</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">currentEditing</span> = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//键盘弹起的时候判断是否按下了回车键</span></span><br><span class="line">  <span class="title function_">handleEditKeyUp</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; keyCode, target &#125; = e</span><br><span class="line">    <span class="comment">//esc键  还原最初的文字</span></span><br><span class="line">    <span class="keyword">if</span> (keyCode === <span class="number">27</span>) &#123;</span><br><span class="line">      <span class="comment">// 取消编辑</span></span><br><span class="line">      <span class="comment">// 同时把文本框的值恢复为原来的值</span></span><br><span class="line">      target.<span class="property">value</span> = <span class="variable language_">this</span>.<span class="property">currentEditing</span>.<span class="property">title</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">currentEditing</span> = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-7-剩余未完成任务数量显示"><a href="#4-7-剩余未完成任务数量显示" class="headerlink" title="4.7 剩余未完成任务数量显示"></a>4.7 剩余未完成任务数量显示</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> #<span class="number">1.</span>app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line">&lt;footer <span class="keyword">class</span>=<span class="string">&quot;footer&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;todo-count&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123;remaningCount&#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span> item left<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">  </span><br><span class="line"> #<span class="number">2.</span>app.<span class="property">component</span>.<span class="property">ts</span>   </span><br><span class="line"> <span class="comment">//剩余未完成任务数量</span></span><br><span class="line">  get remaningCount () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">t</span> =&gt;</span> !t.<span class="property">done</span>).<span class="property">length</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-8-清除所有已完成任务"><a href="#4-8-清除所有已完成任务" class="headerlink" title="4.8 清除所有已完成任务"></a>4.8 清除所有已完成任务</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line">  &lt;button</span><br><span class="line">    (click)=<span class="string">&quot;clearAllDone()&quot;</span></span><br><span class="line">    <span class="keyword">class</span>=<span class="string">&quot;clear-completed&quot;</span>&gt;<span class="title class_">Clear</span> completed&lt;/button&gt;</span><br><span class="line">&lt;/footer&gt;  </span><br><span class="line">  </span><br><span class="line">#<span class="number">2.</span>app.<span class="property">component</span>.<span class="property">ts</span> </span><br><span class="line">  <span class="comment">// 清除所有已完成任务项</span></span><br><span class="line">   clearAllDone () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">todos</span> = <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">t</span> =&gt;</span> !t.<span class="property">done</span>)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-9-任务列表过滤"><a href="#4-9-任务列表过滤" class="headerlink" title="4.9 任务列表过滤"></a>4.9 任务列表过滤</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>app.<span class="property">component</span>.<span class="property">html</span></span><br><span class="line"> &lt;footer <span class="keyword">class</span>=<span class="string">&quot;footer&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;todo-count&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123;remaningCount&#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span> item left<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    &lt;!-- <span class="number">1.</span>点击a标签切换路由 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;filters&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;selected&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#/&quot;</span>&gt;</span>All<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/active&quot;</span>&gt;</span>Active<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/completed&quot;</span>&gt;</span>Completed<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">#<span class="number">2.</span>app.<span class="property">component</span>.<span class="property">ts</span>     </span><br><span class="line">  <span class="keyword">import</span> &#123; <span class="title class_">Router</span>, <span class="title class_">NavigationStart</span>, <span class="title class_">NavigationEnd</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/router&#x27;</span>;</span><br><span class="line">  <span class="comment">//2.添加一个属性用于控制任务列表的切换</span></span><br><span class="line">  public <span class="attr">visibility</span>: string = <span class="string">&#x27;all&#x27;</span></span><br><span class="line">  <span class="comment">//3.注入路由对象</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"> private router: Router</span>) &#123;&#125;</span><br><span class="line">  <span class="comment">//4.ngOnInit方法中监听路由变化，根据不同的地址修改this.visibility为不同类型</span></span><br><span class="line">  <span class="title function_">ngOnInit</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">router</span>.<span class="property">events</span></span><br><span class="line">    .<span class="title function_">subscribe</span>(<span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">/* 路由事件类型：</span></span><br><span class="line"><span class="comment">        NavigationStart：导航开始</span></span><br><span class="line"><span class="comment">        NavigationEnd：导航结束</span></span><br><span class="line"><span class="comment">        NavigationCancel：取消导航</span></span><br><span class="line"><span class="comment">        NavigationError：导航出错</span></span><br><span class="line"><span class="comment">        RoutesRecoginzed：路由已认证</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">      <span class="keyword">if</span>(event <span class="keyword">instanceof</span> <span class="title class_">NavigationEnd</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> hash = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hash</span>.<span class="title function_">substr</span>(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">switch</span> (hash) &#123;</span><br><span class="line">          <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">visibility</span> = <span class="string">&#x27;all&#x27;</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">          <span class="keyword">case</span> <span class="string">&#x27;/active&#x27;</span>:</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">visibility</span> = <span class="string">&#x27;active&#x27;</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">          <span class="keyword">case</span> <span class="string">&#x27;/completed&#x27;</span>:</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">visibility</span> = <span class="string">&#x27;completed&#x27;</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//5.get方法，当visibility发生变化的时候会触发该方法，在该方法中返回新列表</span></span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">filterTodos</span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">visibility</span> === <span class="string">&#x27;all&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">todos</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">visibility</span> === <span class="string">&#x27;active&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">t</span> =&gt;</span> !t.<span class="property">done</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">visibility</span> === <span class="string">&#x27;completed&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">t</span> =&gt;</span> t.<span class="property">done</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>修改app.<span class="property">component</span>.<span class="property">html</span>的ngFor循环的变量</span><br><span class="line">&lt;ul <span class="keyword">class</span>=<span class="string">&quot;todo-list&quot;</span>&gt;</span><br><span class="line">      &lt;!--<span class="number">1.</span>新增一个currentEditing变量用于控制当前li是否添加editing样式--&gt;</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> *<span class="attr">ngFor</span>=<span class="string">&quot;let todo of filterTodos; let i = index;&quot;</span></span></span></span><br></pre></td></tr></table></figure>

<h2 id="5-App开发模式介绍"><a href="#5-App开发模式介绍" class="headerlink" title="5.App开发模式介绍"></a>5.App开发模式介绍</h2><h3 id="5-1-常见的App开发模式"><a href="#5-1-常见的App开发模式" class="headerlink" title="5.1 常见的App开发模式"></a>5.1 常见的App开发模式</h3><ul>
<li>webApp(H5App)：采用html&#x2F;css&#x2F;js前端技术来实现的一些移动端的网页</li>
<li>nativeApp：使用 iOS、Android 官方提供的工具、开发平台、配套语言进行手机App开发的方式；</li>
<li>hybrid：使用前端已有的技术，HTML + CSS + JS ，然后再搭配一些相关的打包编译技术，就能够开发出一个手机App，安装到手机中进行使用。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/1581237370446.png"></p>
<h3 id="5-2-混合式开发的技术选型"><a href="#5-2-混合式开发的技术选型" class="headerlink" title="5.2 混合式开发的技术选型"></a>5.2 混合式开发的技术选型</h3><ul>
<li><p>Angular&#x2F;React(Vue) + Ionic4</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">- 对Angular支持好</span><br><span class="line">- 开发H5App、HybirdApp</span><br><span class="line">- 基于Cordova提供的打包命令打包成iOS、android端程序</span><br><span class="line">- 支持web、iOS、android(HybirdApp应用)</span><br></pre></td></tr></table></figure>
</li>
<li><p>h5+</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">- 提供打包工具将<span class="variable constant_">H5</span>应用打包成<span class="title class_">HybirdApp</span>应用</span><br></pre></td></tr></table></figure>
</li>
<li><p>React+React-Native</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">- 基于<span class="title class_">React</span>语法</span><br><span class="line">- 开发<span class="title class_">NativeApp</span></span><br><span class="line">- 提供编译工具将源代码编译成iOS和android端应用</span><br><span class="line">- 坑多，社区生态多，目前是主流的原生开发技术</span><br><span class="line">- facebook正在重构<span class="title class_">React</span>-<span class="title class_">Native</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>Vue+Weex(阿里)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- 使用vue作为上层框架</span><br><span class="line">- 开发<span class="title class_">WebApp</span>、<span class="title class_">NativeApp</span></span><br><span class="line">- 使用<span class="title class_">Weex</span>提供的打包工具打包成iOS、android端程序</span><br><span class="line">- 支持web、iOS、<span class="title function_">android</span>(<span class="title class_">NativeApp</span>应用)</span><br><span class="line">- 更新慢、坑多、社区不活跃</span><br></pre></td></tr></table></figure>

</li>
<li><p>flutter(谷歌)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">- 基于dart语言（不是JavaScript）</span><br><span class="line">- 框架较新，坑多</span><br><span class="line">- 开发NativeApp</span><br><span class="line">- 没有使用iOS和android的原生组件，使用的是自己定义的Widgets(小控件)</span><br></pre></td></tr></table></figure>
</li>
<li><p>React+Taro(京东)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">- 基于React语法</span><br><span class="line">- 一套源码，多端支持（微信/百度/支付宝/头条/QQ小程序、H5App、React Native）</span><br><span class="line">- 提供编译工具将源代码分别编译成各种小程序、H5、RN</span><br><span class="line">- 坑多、框架新、更新维护快、官方微信群活跃</span><br><span class="line">- 一般可以用来写各种小程序，只支持Taro自己提供的UI库，不支持第三方UI库(小程序的库肯定不能用在React Native)</span><br></pre></td></tr></table></figure>

</li>
<li><p>vue + uni-app</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">- 基于Vue语法</span><br><span class="line">- 一套源码，多端支持(微信/百度/支付宝/头条/QQ小程序、H5App、NativeApp)</span><br><span class="line">- 提供编译工具将源代码分别编译成各种小程序、H5、NativeApp</span><br><span class="line">- App端使用H5+规范，H5+规范包括了html5plus、Native.js、weex</span><br><span class="line">- 国内有一定量的开发者，坑多，社区不够强大</span><br><span class="line">- 可以用来写各种小程序和H5App</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="5-3-开发技术选型的区别"><a href="#5-3-开发技术选型的区别" class="headerlink" title="5.3 开发技术选型的区别"></a>5.3 开发技术选型的区别</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/aa.png"></p>
<h2 id="6-Ionic"><a href="#6-Ionic" class="headerlink" title="6.Ionic"></a>6.Ionic</h2><h3 id="6-1-Ionic介绍"><a href="#6-1-Ionic介绍" class="headerlink" title="6.1 Ionic介绍"></a>6.1 Ionic介绍</h3><p><a target="_blank" rel="noopener" href="https://ionicframework.com/docs/api/alert">https://ionicframework.com/docs/api/alert</a></p>
<p>Ionic是一个开源的移动应用程序开发框架，它可以轻松地使用web技术构建高质量的跨平台的移动应用。可以让我们快速开发移动App、移动端WEB页面、微信公众平台应用，混合app web页面。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Ionic</span> = <span class="title class_">Cordova</span> + <span class="title class_">AngularJS</span> + <span class="title class_">Ionic</span> <span class="variable constant_">UI</span></span><br><span class="line"></span><br><span class="line">- <span class="title class_">Cordova</span>：提供了使用 <span class="title class_">JavaScript</span> 调用 <span class="title class_">Native</span> 功能，提供一些打包命令</span><br><span class="line">- <span class="title class_">AngularJS</span>：<span class="title class_">Ionic4</span>之前和<span class="title class_">Angular</span>的耦合度非常高，所有的组件都是用<span class="title class_">Angular</span>来写的，<span class="title class_">Ionic4</span>开始构建了一套独立的web组件，但是我们仍然可以通过@ionic/angular包与<span class="title class_">Angular</span>深度集成</span><br><span class="line">- <span class="title class_">Ionic</span> <span class="variable constant_">UI</span>：<span class="title class_">Ionic</span> <span class="variable constant_">UI</span>提供了丰富的移动端<span class="variable constant_">UI</span>组件</span><br></pre></td></tr></table></figure>

<h3 id="6-2-Ionic的特点"><a href="#6-2-Ionic的特点" class="headerlink" title="6.2 Ionic的特点"></a>6.2 Ionic的特点</h3><p><strong>跨平台</strong>：构建和部署跨多个平台的应用程序，例如本机iOS，Android，移动Web应用。所有这些都具有一个代码库，写一次，到处运行。</p>
<p><strong>基于Web标准</strong>：Ionic4中所有的组件都是Web Components，可作为独立的Web组件库，集成了最新的JavaScript框架，如Angular、React、Vue。(对Vue 的支持尚处于 alpha 状态)</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/1fec065bb359">https://www.jianshu.com/p/1fec065bb359</a></p>
<p><strong>精美的设计</strong>：干净，简单，功能齐全。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/Angular/1581127808417.png"></p>
<p><strong>Ionic CLI</strong>：是一种快速支撑Ionic应用程序并为Ionic开发人员提供许多有用命令的工具</p>
<h3 id="6-3-Ionic基本使用"><a href="#6-3-Ionic基本使用" class="headerlink" title="6.3 Ionic基本使用"></a>6.3 Ionic基本使用</h3><h4 id="6-3-1-配置本地环境"><a href="#6-3-1-配置本地环境" class="headerlink" title="6.3.1 配置本地环境"></a>6.3.1 配置本地环境</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.确保本地安装了node环境(建议使用最新稳定版)、安装Java JDK</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.将资料中android文件夹解压到c盘目录下</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.将gradle-5.6.1.zip解压到c盘目录下</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//4.配置JAVA_HOME    ANDROID_HOME   GRADLE_HOME    Path环境变量</span></span><br><span class="line"><span class="variable constant_">JAVA_HOME</span>                <span class="attr">C</span>:\<span class="title class_">Program</span> <span class="title class_">Files</span>\<span class="title class_">Java</span>\jdk1<span class="number">.8</span><span class="number">.0_92</span></span><br><span class="line"><span class="variable constant_">ANDROID_HOME</span>        <span class="attr">C</span>:\android</span><br><span class="line"><span class="variable constant_">GRADLE_HOME</span>           <span class="attr">C</span>:\gradle-<span class="number">5.6</span><span class="number">.1</span>\bin</span><br><span class="line"><span class="title class_">Path</span>                             %<span class="variable constant_">JAVA_HOME</span>%\bin;%<span class="variable constant_">JAVA_HOME</span>%\lib\tools.<span class="property">jar</span>;%<span class="variable constant_">ANDROID_HOME</span>%\tools;%<span class="variable constant_">ANDROID_HOME</span>%\platform-tools;%<span class="variable constant_">GRADLE_HOME</span>%</span><br><span class="line"></span><br><span class="line"><span class="comment">//5.安装夜神模拟器</span></span><br><span class="line">- <span class="number">5.1</span> 将<span class="attr">C</span>:\android\platform-tools\adb.<span class="property">exe</span>拷贝一份，替换掉雷电模拟器中的adb.<span class="property">exe</span></span><br><span class="line">- <span class="number">5.2</span> 打开雷电模拟器</span><br><span class="line">- <span class="number">5.3</span> 使用adb命令连接模拟器</span><br><span class="line">	adb connect <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">5555</span>   /  adb disconnect <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">5555</span></span><br><span class="line">-<span class="number">5.4</span> 查看连接到电脑上的设备列表</span><br><span class="line">	adb devices</span><br></pre></td></tr></table></figure>

<h4 id="6-3-2-安装cordova和-ionic-cli，创建一个项目"><a href="#6-3-2-安装cordova和-ionic-cli，创建一个项目" class="headerlink" title="6.3.2 安装cordova和@ionic&#x2F;cli，创建一个项目"></a>6.3.2 安装cordova和@ionic&#x2F;cli，创建一个项目</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.安装cordova和@ionic/cli</span></span><br><span class="line">    npm install -g cordova@<span class="number">9.0</span><span class="number">.0</span> @ionic/cli@<span class="number">6.1</span><span class="number">.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.使用Ionic命令创建项目</span></span><br><span class="line">    ionic start myAppName tabs  </span><br><span class="line">    <span class="comment">//ionic start myAppName blank</span></span><br><span class="line">    <span class="comment">//ionic start myAppName sidemenu</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//这边可能会包网络错误，解决方案：</span></span><br><span class="line">      - 翻墙（可能解决不了） </span><br><span class="line">      - 开启手机热点，然后电脑连接手机热点的wifi，再次创建(正常可以解决)</span><br><span class="line">      - 如果以上两个方案都解决不了那么就找个已经创建好的ionic项目</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.运行项目:</span></span><br><span class="line">$ cd myApp</span><br><span class="line">$ ionic serve</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.打包成单页面项目运行在微信/web浏览器:</span></span><br><span class="line">$ ionic build browser</span><br><span class="line">$ ionic build browser --prod  <span class="comment">//发布环境的</span></span><br></pre></td></tr></table></figure>

<h4 id="6-3-3-打包混合App"><a href="#6-3-3-打包混合App" class="headerlink" title="6.3.3 打包混合App"></a>6.3.3 打包混合App</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">注意点：</span><br><span class="line"><span class="number">1.</span>全局安装的cordova版本号需要是<span class="number">9.0</span><span class="number">.0</span>，因为我们所配置android sdk版本号是<span class="number">28</span></span><br><span class="line"><span class="number">2.</span>项目必须是在非中文的路径下</span><br><span class="line"><span class="number">3.</span>在敲 ionic cordova platform add android 命令的时候需要翻墙</span><br><span class="line"><span class="number">4.</span>在using cordova-fetch <span class="keyword">for</span> cordova-android@^<span class="number">8.0</span><span class="number">.0</span>后续的下载过程中又不需要翻墙</span><br><span class="line"></span><br><span class="line">$  ionic cordova platform add android  </span><br><span class="line">报错：不能安装cordova-common模块，解决方案就是 npm install cordova-common</span><br><span class="line">$  ionic cordova build android </span><br><span class="line">报错：找不到properties-parser模块，解决方案就是 npm install properties-parser</span><br><span class="line">报错：找不到shelljs模块，解决方案就是 npm install shelljs</span><br><span class="line">报错：找不到nopt模块，解决方案就是 npm install nopt</span><br><span class="line">报错：找不到compare-func模块，解决方案就是 npm install compare-func</span><br><span class="line"></span><br><span class="line"><span class="comment">//连接夜神模拟器调试(需要先打开夜神模拟器、然后连接调试)</span></span><br><span class="line">$  ionic cordova run android   </span><br><span class="line"></span><br><span class="line"><span class="comment">//Ionic 5 ERR_AVD_HOME_NOT_FOUND: No valid Android AVD home found. </span></span><br><span class="line"><span class="comment">//https://stackoom.com/question/3vSIG/Ionic-ERR-AVD-HOME-NOT-FOUND-%E6%89%BE%E4%B8%8D%E5%88%B0%E6%9C%89%E6%95%88%E7%9A%84Android-AVD%E4%B8%BB%E7%9B%AE%E5%BD%95-%E5%9C%A8Windows-%E4%B8%AD</span></span><br><span class="line">本机运行找不到<span class="variable constant_">AVD</span> <span class="variable constant_">HOME</span>，只需在下创建一个新目录 <span class="attr">C</span>:<span class="regexp">/users/m</span>azg/.<span class="property">android</span>/avd</span><br><span class="line">如果这样不起作用，请将其添加到$ <span class="variable constant_">PATH</span>变量中。</span><br></pre></td></tr></table></figure>

<h3 id="6-4-Ionic项目目录结构介绍"><a href="#6-4-Ionic项目目录结构介绍" class="headerlink" title="6.4 Ionic项目目录结构介绍"></a>6.4 Ionic项目目录结构介绍</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">-e2e：端对端测试文件</span><br><span class="line">-node_modules：项目所需要的依赖包</span><br><span class="line">-resources：<span class="title class_">Android</span> / iOS 资源 （更换图标和启动动画）</span><br><span class="line">-src：开发工作目录，页面、样式、脚本和图片都放在这个目录下</span><br><span class="line">    - app：应用根目录（组件、页面、服务、模块）</span><br><span class="line">    - assets：资源目录（静态文件，图片，js框架...）</span><br><span class="line">    - theme：主题文件，里面有一个scss文件，设置主题信息</span><br><span class="line">    - <span class="variable language_">global</span>.<span class="property">scss</span>：全局 css 文件</span><br><span class="line">    - index.<span class="property">html</span>：index 入口文件</span><br><span class="line">    - main.<span class="property">ts</span>：主入口文件</span><br><span class="line">    - karma.<span class="property">conf</span>.<span class="property">js</span> / test.<span class="property">js</span>：测试相关的配置文件</span><br><span class="line">    - polyfills.<span class="property">ts</span>：这个文件包含 <span class="title class_">Angular</span> 需要的填充，并在应用程序之前加载</span><br><span class="line">-www：静态文件，ionic build --prod 生成的单页面静态资源文件</span><br><span class="line">-platforms：生成 <span class="title class_">Android</span> 或者 iOS 安装包需要的资源（cordova platform add <span class="title class_">Android</span>后会生成）</span><br><span class="line">-plugins：插件文件夹，里面放置各种cordova安装的插件</span><br><span class="line">-config.<span class="property">xml</span>：打包成 app 的配置文件</span><br><span class="line">-package.<span class="property">json</span>：配置项目的元数据和管理项目所需要的依赖</span><br><span class="line">-ionic.<span class="property">config</span>.<span class="property">json</span>：ionic配置文件</span><br><span class="line">-angular.<span class="property">json</span>：angular配置文件</span><br><span class="line">-tsconfig.<span class="property">json</span>：<span class="title class_">TypeScript</span> 项目的根目录，指定用来编译这个项目的问根文件和编译选项</span><br><span class="line">-tslint.<span class="property">json</span>：格式化和校验 typescript</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># app.<span class="property">module</span>.<span class="property">ts</span>   <span class="comment">/*这个文件是Ionic 根模块，告诉 Ionic 如何组装应用*/</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//angular 核心</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NgModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="comment">//BrowserModule，浏览器解析的模块</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/platform-browser&#x27;</span>;</span><br><span class="line"><span class="comment">//路由</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">RouteReuseStrategy</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/router&#x27;</span>;</span><br><span class="line"><span class="comment">//ionic 核心模块</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">IonicModule</span>, <span class="title class_">IonicRouteStrategy</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@ionic/angular&#x27;</span>;</span><br><span class="line"><span class="comment">//启动画面插件相关服务</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">SplashScreen</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@ionic-native/splash-screen/ngx&#x27;</span>;</span><br><span class="line"><span class="comment">//导航条插件相关服务</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">StatusBar</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@ionic-native/status-bar/ngx&#x27;</span>;</span><br><span class="line"><span class="comment">//路由模块</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppRoutingModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app-routing.module&#x27;</span>;</span><br><span class="line"><span class="comment">//根模块</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app.component&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">@<span class="title class_">NgModule</span>(&#123;</span><br><span class="line">  <span class="attr">declarations</span>: [<span class="title class_">AppComponent</span>],<span class="comment">//配置当前项目运行的组件</span></span><br><span class="line">  <span class="attr">entryComponents</span>: [],</span><br><span class="line">  <span class="attr">imports</span>: [<span class="title class_">BrowserModule</span>, <span class="title class_">IonicModule</span>.<span class="title function_">forRoot</span>(), <span class="title class_">AppRoutingModule</span>],<span class="comment">//配置当前模块运行依赖的其他模块</span></span><br><span class="line">  <span class="attr">providers</span>: [<span class="comment">//配置项目所需要的服务</span></span><br><span class="line">    <span class="title class_">StatusBar</span>,</span><br><span class="line">    <span class="title class_">SplashScreen</span>,</span><br><span class="line">    &#123; <span class="attr">provide</span>: <span class="title class_">RouteReuseStrategy</span>, <span class="attr">useClass</span>: <span class="title class_">IonicRouteStrategy</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">bootstrap</span>: [<span class="title class_">AppComponent</span>]   <span class="comment">//指定应用的主视图（称为根组件）通过引导根 AppModule来启动应用，这里一般写的是根组件</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-5-配置新的路由页面"><a href="#6-5-配置新的路由页面" class="headerlink" title="6.5 配置新的路由页面"></a>6.5 配置新的路由页面</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ionic g page views/detail</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在tab1中跳转</span></span><br><span class="line"></span><br><span class="line">&lt;ion-content&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ion-button</span> [<span class="attr">routerLink</span>]=<span class="string">&quot;[&#x27;/detail&#x27;]&quot;</span> <span class="attr">routerLinkActive</span>=<span class="string">&quot;router-link-active&quot;</span> &gt;</span></span></span><br><span class="line"><span class="language-xml">      跳转detail</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ion-button</span>&gt;</span></span></span><br><span class="line">&lt;/ion-content&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//detail页面中跳回前一个页面</span></span><br><span class="line"></span><br><span class="line">&lt;ion-header&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">ion-toolbar</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   //++</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">ion-buttons</span> <span class="attr">slot</span>=<span class="string">&quot;start&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">ion-back-button</span>&gt;</span><span class="tag">&lt;/<span class="name">ion-back-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ion-buttons</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    //+</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">ion-title</span>&gt;</span>detail<span class="tag">&lt;/<span class="name">ion-title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">ion-toolbar</span>&gt;</span></span></span><br><span class="line">&lt;/ion-header&gt;</span><br></pre></td></tr></table></figure>

<h3 id="6-6-新增底部导航"><a href="#6-6-新增底部导航" class="headerlink" title="6.6 新增底部导航"></a>6.6 新增底部导航</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 新增模块</span></span><br><span class="line">ionic g page tab4</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除app-routing.module.ts中自动配的tab4的路由</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//tabs-routing.module.ts中新增路由</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;tab4&#x27;</span>,</span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="attr">loadChildren</span>: <span class="function">() =&gt;</span></span><br><span class="line">              <span class="keyword">import</span>(<span class="string">&#x27;../tab4/tab4.module&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">m</span> =&gt;</span> m.<span class="property">Tab4PageModule</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//tabs.page.html中配置</span></span><br><span class="line"><span class="comment">//++ 新添加导航</span></span><br><span class="line">&lt;ion-tab-button tab=<span class="string">&quot;tab4&quot;</span>&gt;</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">ion-icon</span> <span class="attr">name</span>=<span class="string">&quot;logo-octocat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ion-icon</span>&gt;</span></span></span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">ion-label</span>&gt;</span>Tab Four<span class="tag">&lt;/<span class="name">ion-label</span>&gt;</span></span></span><br><span class="line">&lt;/ion-tab-button&gt;</span><br></pre></td></tr></table></figure>

<h3 id="6-7-Ionic组件的使用"><a href="#6-7-Ionic组件的使用" class="headerlink" title="6.7 Ionic组件的使用"></a>6.7 Ionic组件的使用</h3><h4 id="6-7-1-alert组件"><a href="#6-7-1-alert组件" class="headerlink" title="6.7.1 alert组件"></a>6.7.1 alert组件</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># tab2.<span class="property">page</span>.<span class="property">html</span></span><br><span class="line">&lt;ion-content&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">ion-button</span> <span class="attr">color</span>=<span class="string">&quot;primary&quot;</span> (<span class="attr">click</span>)=<span class="string">&quot;presentAlert()&quot;</span>&gt;</span>Primary<span class="tag">&lt;/<span class="name">ion-button</span>&gt;</span></span></span><br><span class="line">&lt;/ion-content&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># tab2.<span class="property">page</span>.<span class="property">ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Tab2Page</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">public alertController: AlertController</span>) &#123;&#125;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">presentAlert</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> alert = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">alertController</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line">      <span class="attr">header</span>: <span class="string">&#x27;Alert&#x27;</span>,</span><br><span class="line">      <span class="attr">subHeader</span>: <span class="string">&#x27;Subtitle&#x27;</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;This is an alert message.&#x27;</span>,</span><br><span class="line">      <span class="attr">buttons</span>: [<span class="string">&#x27;OK&#x27;</span>]</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">await</span> alert.<span class="title function_">present</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="6-7-2-修改工具栏颜色"><a href="#6-7-2-修改工具栏颜色" class="headerlink" title="6.7.2 修改工具栏颜色"></a>6.7.2 修改工具栏颜色</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;ion-toolbar color=<span class="string">&quot;success&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ion-title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      Tab One</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ion-title</span>&gt;</span></span></span><br><span class="line">&lt;/ion-toolbar&gt;</span><br></pre></td></tr></table></figure>

<h4 id="6-7-3-修改返回按钮文字"><a href="#6-7-3-修改返回按钮文字" class="headerlink" title="6.7.3 修改返回按钮文字"></a>6.7.3 修改返回按钮文字</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app.module.ts中配置</span></span><br><span class="line"></span><br><span class="line">@<span class="title class_">NgModule</span>(&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">imports</span>: [<span class="title class_">IonicModule</span>.<span class="title function_">forRoot</span>(&#123;</span><br><span class="line">    <span class="attr">backButtonText</span>:<span class="string">&quot;返回&quot;</span></span><br><span class="line">  &#125;)],</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="补充："><a href="#补充：" class="headerlink" title="补充："></a>补充：</h2><p><a target="_blank" rel="noopener" href="https://www.yuque.com/chengbenchao/voarxb">https://www.yuque.com/chengbenchao/voarxb</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://rainlotus97.github.io">RainLotus</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://rainlotus97.github.io/2020/05/24/Angular/">https://rainlotus97.github.io/2020/05/24/Angular/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://rainlotus97.github.io" target="_blank">RainLotus'Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Angular/">Angular</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/11/10/zEPx3Fp6emgd5nH.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/06/17/%E5%B0%8F%E7%A8%8B%E5%BA%8F--%E5%89%8D%E7%AB%AF%E5%95%86%E5%9F%8E/" title="微信小程序-前端商城"><img class="cover" src="https://i.loli.net/2020/08/24/PBeX76RaY8C5pDA.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">微信小程序-前端商城</div></div></a></div><div class="next-post pull-right"><a href="/2020/04/29/Nuxt/" title="Nuxt"><img class="cover" src="https://i.loli.net/2020/11/10/bKCtw4puN15YEi8.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Nuxt</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/05/02/NG-ALAIN/" title="NG-ALAIN"><img class="cover" src="https://i.loli.net/2021/05/02/NeDAEbFqdwtVvZs.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-02</div><div class="title">NG-ALAIN</div></div></a></div><div><a href="/2020/12/31/%E9%82%82%E9%80%85Angular/" title="邂逅Angular"><img class="cover" src="https://i.loli.net/2020/12/31/KxDp6RZJVkXEC5Q.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-12-31</div><div class="title">邂逅Angular</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/xinyiji.gif" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">RainLotus</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/rainlotus97" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:s0704127x@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Welcome To RainLotus' Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Angular-%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">1.Angular 介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-Angular%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 Angular是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E7%89%B9%E6%80%A7"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-Angular%E5%8F%91%E5%B1%95%E5%8E%86%E5%8F%B2"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 Angular发展历史</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1-Angular1"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.3.1 Angular1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-2-Angular1%E7%9A%84%E5%9B%B0%E5%A2%83"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.3.2 Angular1的困境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-3-Angular-2-%E6%A8%AA%E7%A9%BA%E5%87%BA%E4%B8%96"><span class="toc-number">1.3.3.</span> <span class="toc-text">1.3.3 Angular 2 横空出世</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-4-ng2-%E7%9B%B8%E6%AF%94-ng1"><span class="toc-number">1.3.4.</span> <span class="toc-text">1.3.4 ng2 相比 ng1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-5-Angular%E7%8E%B0%E7%8A%B6"><span class="toc-number">1.3.5.</span> <span class="toc-text">1.3.5 Angular现状</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 相关链接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Angular-cli"><span class="toc-number">2.</span> <span class="toc-text">2.Angular-cli</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%88%9B%E5%BB%BAAngular-cli%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 创建Angular-cli项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-Angular-cli%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 Angular-cli项目目录结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Angular%E6%A0%B8%E5%BF%83%E8%AF%AD%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text">3.Angular核心语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E7%BB%84%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-%E7%BB%84%E4%BB%B6%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.1.1.</span> <span class="toc-text">3.1.1 组件基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-%E7%BB%84%E4%BB%B6%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">3.1.2.</span> <span class="toc-text">3.1.2 组件的创建</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E6%8C%87%E4%BB%A4%E4%B8%8E%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 指令与模板语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-%E6%8F%92%E5%80%BC%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.2.1.</span> <span class="toc-text">3.2.1 插值表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-%E4%BD%BF%E7%94%A8-JavaScript-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.2.2.</span> <span class="toc-text">3.2.2 使用 JavaScript 表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-3-%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="toc-number">3.2.3.</span> <span class="toc-text">3.2.3 列表渲染</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-4-%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-number">3.2.4.</span> <span class="toc-text">3.2.4 条件渲染</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-5-NgSwitch"><span class="toc-number">3.2.5.</span> <span class="toc-text">3.2.5 NgSwitch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-6-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">3.2.6.</span> <span class="toc-text">3.2.6 自定义指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-7-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">3.2.7.</span> <span class="toc-text">3.2.7 事件处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-8-%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A"><span class="toc-number">3.2.8.</span> <span class="toc-text">3.2.8 双向绑定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-9-Class%E7%BB%91%E5%AE%9A"><span class="toc-number">3.2.9.</span> <span class="toc-text">3.2.9 Class绑定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-10-Style%E7%BB%91%E5%AE%9A"><span class="toc-number">3.2.10.</span> <span class="toc-text">3.2.10 Style绑定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-11-%E6%A8%A1%E6%9D%BF%E5%BC%95%E7%94%A8%E5%8F%98%E9%87%8F"><span class="toc-number">3.2.11.</span> <span class="toc-text">3.2.11 模板引用变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-12-%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">3.2.12.</span> <span class="toc-text">3.2.12 过滤器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E8%B7%AF%E7%94%B1"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-Services%EF%BC%88%E6%9C%8D%E5%8A%A1%EF%BC%89"><span class="toc-number">3.4.</span> <span class="toc-text">3.4 Services（服务）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%EF%BC%88Dependency-injection%EF%BC%89"><span class="toc-number">3.5.</span> <span class="toc-text">3.5 依赖注入（Dependency injection）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-HTTP%E6%9C%8D%E5%8A%A1"><span class="toc-number">3.6.</span> <span class="toc-text">3.6 HTTP服务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-TodoMVC%E6%A1%88%E4%BE%8B"><span class="toc-number">4.</span> <span class="toc-text">4.TodoMVC案例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E4%B8%8B%E8%BD%BD%E6%A8%A1%E6%9D%BF"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 下载模板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E5%88%97%E8%A1%A8%E6%95%B0%E6%8D%AE%E6%B8%B2%E6%9F%93"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 列表数据渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E6%B7%BB%E5%8A%A0%E4%BB%BB%E5%8A%A1"><span class="toc-number">4.3.</span> <span class="toc-text">4.3 添加任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E5%88%87%E6%8D%A2%E6%89%80%E6%9C%89%E4%BB%BB%E5%8A%A1%E9%A1%B9"><span class="toc-number">4.4.</span> <span class="toc-text">4.4 切换所有任务项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-1-%E6%89%80%E6%9C%89%E4%BB%BB%E5%8A%A1%E9%83%BD%E5%AE%8C%E6%88%90%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-number">4.4.1.</span> <span class="toc-text">4.4.1 所有任务都完成的情况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-2-%E7%82%B9%E5%87%BB%E5%88%87%E6%8D%A2%E6%8C%89%E9%92%AE"><span class="toc-number">4.4.2.</span> <span class="toc-text">4.4.2 点击切换按钮</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-%E5%88%A0%E9%99%A4%E4%BB%BB%E5%8A%A1"><span class="toc-number">4.5.</span> <span class="toc-text">4.5 删除任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-%E7%BC%96%E8%BE%91%E5%8A%9F%E8%83%BD"><span class="toc-number">4.6.</span> <span class="toc-text">4.6 编辑功能</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-6-1-%E5%8F%8C%E5%87%BBlabel%E5%90%AF%E7%94%A8%E7%BC%96%E8%BE%91%E6%A0%B7%E5%BC%8F"><span class="toc-number">4.6.1.</span> <span class="toc-text">4.6.1 双击label启用编辑样式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-6-2-%E5%9B%9E%E8%BD%A6%E9%94%AE%E3%80%81%E5%A4%B1%E5%8E%BB%E7%84%A6%E7%82%B9%E4%BF%9D%E5%AD%98%E7%BC%96%E8%BE%91%E3%80%81esc%E5%8F%96%E6%B6%88%E7%BC%96%E8%BE%91"><span class="toc-number">4.6.2.</span> <span class="toc-text">4.6.2 回车键、失去焦点保存编辑、esc取消编辑</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-%E5%89%A9%E4%BD%99%E6%9C%AA%E5%AE%8C%E6%88%90%E4%BB%BB%E5%8A%A1%E6%95%B0%E9%87%8F%E6%98%BE%E7%A4%BA"><span class="toc-number">4.7.</span> <span class="toc-text">4.7 剩余未完成任务数量显示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-8-%E6%B8%85%E9%99%A4%E6%89%80%E6%9C%89%E5%B7%B2%E5%AE%8C%E6%88%90%E4%BB%BB%E5%8A%A1"><span class="toc-number">4.8.</span> <span class="toc-text">4.8 清除所有已完成任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-9-%E4%BB%BB%E5%8A%A1%E5%88%97%E8%A1%A8%E8%BF%87%E6%BB%A4"><span class="toc-number">4.9.</span> <span class="toc-text">4.9 任务列表过滤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-App%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F%E4%BB%8B%E7%BB%8D"><span class="toc-number">5.</span> <span class="toc-text">5.App开发模式介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%B8%B8%E8%A7%81%E7%9A%84App%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.1.</span> <span class="toc-text">5.1 常见的App开发模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E6%B7%B7%E5%90%88%E5%BC%8F%E5%BC%80%E5%8F%91%E7%9A%84%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B"><span class="toc-number">5.2.</span> <span class="toc-text">5.2 混合式开发的技术选型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">5.3.</span> <span class="toc-text">5.3 开发技术选型的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Ionic"><span class="toc-number">6.</span> <span class="toc-text">6.Ionic</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-Ionic%E4%BB%8B%E7%BB%8D"><span class="toc-number">6.1.</span> <span class="toc-text">6.1 Ionic介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-Ionic%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">6.2.</span> <span class="toc-text">6.2 Ionic的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-Ionic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">6.3.</span> <span class="toc-text">6.3 Ionic基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-1-%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0%E7%8E%AF%E5%A2%83"><span class="toc-number">6.3.1.</span> <span class="toc-text">6.3.1 配置本地环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-2-%E5%AE%89%E8%A3%85cordova%E5%92%8C-ionic-cli%EF%BC%8C%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE"><span class="toc-number">6.3.2.</span> <span class="toc-text">6.3.2 安装cordova和@ionic&#x2F;cli，创建一个项目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-3-%E6%89%93%E5%8C%85%E6%B7%B7%E5%90%88App"><span class="toc-number">6.3.3.</span> <span class="toc-text">6.3.3 打包混合App</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-Ionic%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">6.4.</span> <span class="toc-text">6.4 Ionic项目目录结构介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-%E9%85%8D%E7%BD%AE%E6%96%B0%E7%9A%84%E8%B7%AF%E7%94%B1%E9%A1%B5%E9%9D%A2"><span class="toc-number">6.5.</span> <span class="toc-text">6.5 配置新的路由页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6-%E6%96%B0%E5%A2%9E%E5%BA%95%E9%83%A8%E5%AF%BC%E8%88%AA"><span class="toc-number">6.6.</span> <span class="toc-text">6.6 新增底部导航</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-7-Ionic%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">6.7.</span> <span class="toc-text">6.7 Ionic组件的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-7-1-alert%E7%BB%84%E4%BB%B6"><span class="toc-number">6.7.1.</span> <span class="toc-text">6.7.1 alert组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-7-2-%E4%BF%AE%E6%94%B9%E5%B7%A5%E5%85%B7%E6%A0%8F%E9%A2%9C%E8%89%B2"><span class="toc-number">6.7.2.</span> <span class="toc-text">6.7.2 修改工具栏颜色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-7-3-%E4%BF%AE%E6%94%B9%E8%BF%94%E5%9B%9E%E6%8C%89%E9%92%AE%E6%96%87%E5%AD%97"><span class="toc-number">6.7.3.</span> <span class="toc-text">6.7.3 修改返回按钮文字</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%EF%BC%9A"><span class="toc-number">7.</span> <span class="toc-text">补充：</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/03/22/openharmony%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/" title="openharmony基础知识学习"><img src="https://cdn.jsdelivr.net/gh/rainlotus97/images/data/2023-03-22/aniya.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="openharmony基础知识学习"/></a><div class="content"><a class="title" href="/2023/03/22/openharmony%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/" title="openharmony基础知识学习">openharmony基础知识学习</a><time datetime="2023-03-22T12:11:02.000Z" title="发表于 2023-03-22 20:11:02">2023-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/19/%E5%A4%9A%E5%B1%82%E7%BA%A7%E9%A5%BC%E5%9B%BE/" title="多层级饼图"><img src="https://cdn.jsdelivr.net/gh/rainlotus97/images/data/2022-06-19/FINAL%20FANTASY%20VII%20REMAKE%E3%80%80Alice.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="多层级饼图"/></a><div class="content"><a class="title" href="/2022/06/19/%E5%A4%9A%E5%B1%82%E7%BA%A7%E9%A5%BC%E5%9B%BE/" title="多层级饼图">多层级饼图</a><time datetime="2022-06-19T03:54:06.000Z" title="发表于 2022-06-19 11:54:06">2022-06-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/02/NG-ALAIN/" title="NG-ALAIN"><img src="https://i.loli.net/2021/05/02/NeDAEbFqdwtVvZs.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="NG-ALAIN"/></a><div class="content"><a class="title" href="/2021/05/02/NG-ALAIN/" title="NG-ALAIN">NG-ALAIN</a><time datetime="2021-05-02T08:10:06.000Z" title="发表于 2021-05-02 16:10:06">2021-05-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/13/%E5%AE%9E%E7%94%A8js%E5%87%BD%E6%95%B0/" title="实用js函数"><img src="https://i.loli.net/2021/01/13/QTldtf3xK2sV4ic.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="实用js函数"/></a><div class="content"><a class="title" href="/2021/01/13/%E5%AE%9E%E7%94%A8js%E5%87%BD%E6%95%B0/" title="实用js函数">实用js函数</a><time datetime="2021-01-13T02:05:58.000Z" title="发表于 2021-01-13 10:05:58">2021-01-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/31/%E9%82%82%E9%80%85Angular/" title="邂逅Angular"><img src="https://i.loli.net/2020/12/31/KxDp6RZJVkXEC5Q.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="邂逅Angular"/></a><div class="content"><a class="title" href="/2020/12/31/%E9%82%82%E9%80%85Angular/" title="邂逅Angular">邂逅Angular</a><time datetime="2020-12-31T10:05:06.000Z" title="发表于 2020-12-31 18:05:06">2020-12-31</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By RainLotus</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">隐约雷鸣，阴霾天空，但盼风雨来，能留君在此</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><div class="js-pjax"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rainlotus97/rainlotus97.github.io/css/love.css"><script src="https://cdn.jsdelivr.net/gh/rainlotus97/rainlotus97.github.io/js/love.js"></script><script src="https://cdn.jsdelivr.net/gh/rainlotus97/rainlotus97.github.io/js/sakura.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div></body></html>